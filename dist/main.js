module.exports=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){d.driver=d.driver.migrate(e)}function i(e){return d.driver.getItem(e)}function u(e,t){d.driver.setItem(e,t)}function c(e){d.driver.removeItem(e)}Object.defineProperty(t,"__esModule",{value:!0});var a;t.setStorageDriver=o,t.getStorage=i,t.addStorage=u,t.removeStorage=c;var s=new Map,f=new Map,l=t.storageKeys={PROPS:"props",EVENTS:"events"},p={items:Object.create((a={},n(a,l.PROPS,s),n(a,l.EVENTS,f),a)),setItem:function(e,t){this.items[e]=t},getItem:function(e){return this.items[e]},removeItem:function(e){delete this.items[e]},migrate:function(e){for(var t in this.items)e.setItem(t,this.items[t]);return e}},d=t.storage={driver:p}},function(e,t,r){"use strict";function n(e){return e.split("-").reduce(function(e,t){return t?e+t[0].toUpperCase()+t.slice(1):e})}function o(e){for(var t="",r=0;r<e.length;r++)e[r]===e[r].toUpperCase()?t+="-"+e[r].toLowerCase():t+=e[r];return t}function i(e,t){return t?"__ARG__"+e:"\x3c!--__ARG__"+e+"--\x3e"}function u(e){return e.match(/(?:<!--)?__ARG__(\d+)(?:-->)?/)}function c(e,t){return e.replace(/(?:<!--)?__ARG__(\d+)(?:-->)?/g,t)}function a(e){return'="'===e.trim().slice(-2)}Object.defineProperty(t,"__esModule",{value:!0}),t.tagNameToProp=n,t.propNameToTag=o,t.createTagArg=i,t.matchTagArg=u,t.replaceTagArg=c,t.attributeStarts=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={registerComponent:function(e,t){"customElements"in window?customElements.define(e,t):u().then(function(){i(e,t)})},isCustomComponent:function(e){return e.nodeName.includes("-")}},o=n,i=function(e,t){return o.registerComponent(e,t)},u=(t.setImplementation=function(e){o=e},function(){return Promise.resolve()});t.componentsReady=function(){return u()},t.setReadyCheck=function(e){u=e};t.default=i;t.isCustomComponent=function(e){return o.isCustomComponent(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={reducers:{},subscriptions:{},addReducer:function(e,t){this.reducers[e]=t},removeReducer:function(e){return delete this.reducers[e],!1},subscribe:function(e,t){var r=this;return this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(t),{unsubscribe:function(){r.subscriptions[e]=r.subscriptions[e].filter(function(e){return e!==t})}}},getState:function(e){},migrate:function(e){for(var t in this.reducers){var r=this.reducers[t];e.addReducer(t,r)}for(var n in this.subscriptions){var o=!0,i=!1,u=void 0;try{for(var c,a=this.subscriptions[n][Symbol.iterator]();!(o=(c=a.next()).done);o=!0){var s=c.value;e.subscribe(n,s)}}catch(e){i=!0,u=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw u}}}return e}},o={currentImplementation:n};t.setImplementation=function(e){o.currentImplementation=o.currentImplementation.migrate(e)},t.registerReducer=function(e,t){o.currentImplementation.addReducer(e,t)},t.removeReducer=function(e){o.currentImplementation.removeReducer(e)},t.subscribe=function(e,t){return o.currentImplementation.subscribe(e,t)},t.getState=function(e){return o.currentImplementation.getState(e)}},,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2);Object.defineProperty(t,"changeWebComponentsImplemenation",{enumerable:!0,get:function(){return o.setImplementation}}),Object.defineProperty(t,"componentsReady",{enumerable:!0,get:function(){return o.componentsReady}}),Object.defineProperty(t,"changeWebComponentsReadyCheck",{enumerable:!0,get:function(){return o.setReadyCheck}}),Object.defineProperty(t,"registerComponent",{enumerable:!0,get:function(){return n(o).default}});var i=r(3);Object.defineProperty(t,"changeStoreImplementation",{enumerable:!0,get:function(){return i.setImplementation}}),Object.defineProperty(t,"registerReducer",{enumerable:!0,get:function(){return i.registerReducer}}),Object.defineProperty(t,"removeReducer",{enumerable:!0,get:function(){return i.removeReducer}}),Object.defineProperty(t,"subscribe",{enumerable:!0,get:function(){return i.subscribe}}),Object.defineProperty(t,"getState",{enumerable:!0,get:function(){return i.getState}});var u=r(6);Object.defineProperty(t,"css",{enumerable:!0,get:function(){return u.css}});var c=r(0);Object.defineProperty(t,"getStorage",{enumerable:!0,get:function(){return c.getStorage}}),Object.defineProperty(t,"addStorage",{enumerable:!0,get:function(){return c.addStorage}}),Object.defineProperty(t,"removeStorage",{enumerable:!0,get:function(){return c.removeStorage}}),Object.defineProperty(t,"setStorageDriver",{enumerable:!0,get:function(){return c.setStorageDriver}});var a=r(7);Object.defineProperty(t,"bind",{enumerable:!0,get:function(){return a.bind}});var s=r(1);Object.defineProperty(t,"matchTagArg",{enumerable:!0,get:function(){return s.matchTagArg}}),Object.defineProperty(t,"replaceTagArg",{enumerable:!0,get:function(){return s.replaceTagArg}});var f=r(8);Object.defineProperty(t,"Component",{enumerable:!0,get:function(){return n(f).default}}),Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return f.connect}}),Object.defineProperty(t,"define",{enumerable:!0,get:function(){return f.define}}),Object.defineProperty(t,"props",{enumerable:!0,get:function(){return f.props}})},function(e,t,r){"use strict";function n(e){return function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var o="",i=0;i<e.length;i++)o+=e[i],i<e.length-1&&("function"==typeof r[i]?o+=r[i]():o+=r[i]);return o}}Object.defineProperty(t,"__esModule",{value:!0}),t.css=n},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){var r=(0,u.getStorage)(c);if(r.size===a){var n=r.keys();r.delete(n.next().value)}r.set(e,t)}function i(e){for(var t=(0,u.getStorage)(c),r=t.get(e),i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];var f=a[0],l=e.bind.apply(e,[null].concat(n(a)));if(r)return r.get(f)?r.get(f):(r.set(f,l),l);var p=new Map;return p.set(f,l),o(e,p),l}Object.defineProperty(t,"__esModule",{value:!0}),t.bind=i;var u=r(0),c="BOUNDS",a=100;(0,u.addStorage)(c,new Map)},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){var t={},r=!0,n=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var c=i.value;t[(0,v.tagNameToProp)(c.name)]=c.value}}catch(e){n=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw o}}return t}function a(e){return function(t){return function(t){function r(){return o(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return u(r,t),d(r,[{key:"keys",get:function(){return[e]}}]),r}(t)}}function s(e){return function(t){return(0,y.default)(e,t),t}}function f(e){var t=S++;return O.set(t,e),{"props-id":t,toString:function(){return'props-id="'+t+'"'}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.connect=a,t.define=s,t.props=f;var b=r(2),y=function(e){return e&&e.__esModule?e:{default:e}}(b),m=r(3),g=r(9),h=r(0),v=r(1),_=function(e){var t=e.getPrototypeOf||function(e){return e.__proto__},r=e.setPrototypeOf||function(e,t){return e.__proto__=t,e},n="object"===("undefined"==typeof Reflect?"undefined":l(Reflect))?Reflect.construct:function(e,t,n){var o,i=[null];return i.push.apply(i,t),o=e.bind.apply(e,i),r(new o,n.prototype)};return function(e){var o=t(e);return r(e,r(function(){return n(o,arguments,t(this).constructor)},o))}}(Object),O=(0,h.getStorage)(h.storageKeys.PROPS),P=_(function(e){function t(){var e,r,n,u;o(this,t);for(var c=arguments.length,a=Array(c),s=0;s<c;s++)a[s]=arguments[s];return r=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.__defaultProps={},n.subscriptions=[],n.state={},n.mounted=!1,u=r,i(n,u)}return u(t,e),d(t,[{key:"beforeRender",value:function(){}},{key:"render",value:function(){return""}},{key:"insertContent",value:function(e,t){if("string"!=typeof t)throw new Error("default renderer can handle only strings");e.innerHTML=t}},{key:"afterRender",value:function(){}},{key:"subscribeToStore",value:function(){var e=this,t=!0,r=!1,n=void 0;try{for(var o,i=this.keys[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var u=o.value;this.subscriptions.push((0,m.subscribe)(u,function(t){e.state=t,g.render.call(e)})),this.state=(0,m.getState)(u)}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}}},{key:"connectedCallback",value:function(){this.subscribeToStore(),g.render.call(this),this.connected()}},{key:"connected",value:function(){}},{key:"disconnectedCallback",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,o=this.subscriptions[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){n.value.unsubscribe()}}catch(e){t=!0,r=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw r}}this.disconnected()}},{key:"disconnected",value:function(){}},{key:"adoptedCallback",value:function(){this.subscribeToStore(),g.render.call(this),this.adopted()}},{key:"adopted",value:function(){}},{key:"attributeChangedCallback",value:function(e,t,r){this.mounted&&t!=r&&(this.propsChanged(p({},this.props,n({},e,r))),g.render.call(this))}},{key:"propsChanged",value:function(e){}},{key:"name",get:function(){return Object.getPrototypeOf(this).constructor.name}},{key:"isShadow",get:function(){return!0}},{key:"props",get:function(){var e=c(this.attributes),t=Number(e.propsId);return p({},this.__defaultProps,e,O.get(t)||{})},set:function(e){this.__defaultProps=e}},{key:"keys",get:function(){return[]}},{key:"styles",get:function(){return""}}],[{key:"observedAttributes",get:function(){return this.observableProps.map(v.propNameToTag)}},{key:"observableProps",get:function(){return[]}}]),t}(HTMLElement));t.default=P;var S=0},function(e,t,r){"use strict";function n(){this.beforeRender(),this.isShadow&&!this.shadowRoot&&this.attachShadow({mode:"open"}),this.root||(this.isShadow?(this.shadowRoot.innerHTML="<style>"+this.styles+"</style>",this.root=document.createElement("div"),this.shadowRoot.appendChild(this.root),this.root.style="display: contents"):(this.innerHTML="<style>"+this.styles+"</style>",this.root=this));var e=this.render();e&&this.insertContent(this.root,e),this.mounted=!0,this.afterRender()}Object.defineProperty(t,"__esModule",{value:!0}),t.render=n}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbWFpbi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgM2M3OWUzMjVhYWFkYjQwYzE5OGIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy93ZWItY29tcG9uZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy90YWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JpbmQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfZGVmaW5lUHJvcGVydHkiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsIndyaXRhYmxlIiwic2V0U3RvcmFnZURyaXZlciIsImRyaXZlciIsInN0b3JhZ2UiLCJtaWdyYXRlIiwiZ2V0U3RvcmFnZSIsImdldEl0ZW0iLCJhZGRTdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZVN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwiX09iamVjdCRjcmVhdGUiLCJwcm9wc01hcCIsIk1hcCIsImV2ZW50c01hcCIsInN0b3JhZ2VLZXlzIiwiUFJPUFMiLCJFVkVOVFMiLCJpdGVtcyIsImNyZWF0ZSIsInRoaXMiLCJ0YWdOYW1lVG9Qcm9wIiwibm9kZU5hbWUiLCJzcGxpdCIsInJlZHVjZSIsImFjYyIsIm5leHQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwicHJvcE5hbWVUb1RhZyIsInByb3AiLCJyZXMiLCJsZW5ndGgiLCJ0b0xvd2VyQ2FzZSIsImNyZWF0ZVRhZ0FyZyIsImluZGV4Iiwic3RhcnRBdHRyaWJ1dGUiLCJtYXRjaFRhZ0FyZyIsInN0ciIsIm1hdGNoIiwicmVwbGFjZVRhZ0FyZyIsImZuIiwicmVwbGFjZSIsImF0dHJpYnV0ZVN0YXJ0cyIsInRyaW0iLCJkZWZhdWx0SW1wbGVtZW50YXRpb24iLCJyZWdpc3RlckNvbXBvbmVudCIsImNvbXBvbmVudCIsIndpbmRvdyIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIiwiY3VycmVudFJlYWR5Q2hlY2siLCJ0aGVuIiwiaXNDdXN0b21Db21wb25lbnQiLCJub2RlIiwiaW5jbHVkZXMiLCJjdXJyZW50SW1wbGVtZW50YXRpb24iLCJzZXRJbXBsZW1lbnRhdGlvbiIsImltcGxlbWVudGF0aW9uIiwiUHJvbWlzZSIsInJlc29sdmUiLCJjb21wb25lbnRzUmVhZHkiLCJzZXRSZWFkeUNoZWNrIiwicmVhZHlDaGVjayIsImRlZmF1bHQiLCJzdHViSW1wbGVtZW50YXRpb24iLCJyZWR1Y2VycyIsInN1YnNjcmlwdGlvbnMiLCJhZGRSZWR1Y2VyIiwicmVkdWNlciIsInJlbW92ZVJlZHVjZXIiLCJzdWJzY3JpYmUiLCJjYiIsIl90aGlzIiwicHVzaCIsInVuc3Vic2NyaWJlIiwiZmlsdGVyIiwiZWwiLCJnZXRTdGF0ZSIsIm5ld1N0b3JlIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJ1bmRlZmluZWQiLCJfc3RlcCIsIl9pdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiZG9uZSIsInN1YnNjcmlwdGlvbiIsImVyciIsInJldHVybiIsInN0b3JlIiwicmVnaXN0ZXJSZWR1Y2VyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl93ZWJDb21wb25lbnRzIiwiX3N0b3JlIiwiX3RhZyIsImNzcyIsIl9zdG9yYWdlIiwiX2JpbmQiLCJiaW5kIiwiX3V0aWxzIiwiX0NvbXBvbmVudCIsImNvbm5lY3QiLCJwcm9wcyIsImN0eCIsInN0cmluZ3MiLCJfbGVuIiwiYXJndW1lbnRzIiwiYXJncyIsIkFycmF5IiwiX2tleSIsInJlc3VsdCIsIl90b0NvbnN1bWFibGVBcnJheSIsImFyciIsImlzQXJyYXkiLCJhcnIyIiwiZnJvbSIsImFwcGVuZFRvU3RvcmFnZSIsIktFWSIsInNpemUiLCJNQVhfU1RPUkFHRV9TSVpFIiwia2V5cyIsImRlbGV0ZSIsInNldCIsImJvdW5kIiwiZmlyc3RBcmciLCJib3VuZEZuIiwiYXBwbHkiLCJjb25jYXQiLCJmbk1hcCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNvbnN0cnVjdG9yIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJwYXJzZUF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwiYXR0cmlidXRlIiwiV3JhcHBlZCIsIl9XcmFwcGVkIiwiX2NsYXNzMiIsImdldFByb3RvdHlwZU9mIiwiX2NyZWF0ZUNsYXNzIiwiX3dlYkNvbXBvbmVudHMyIiwiaWQiLCJwcm9wc0lkIiwicHJvcHNTdG9yYWdlIiwicHJvcHMtaWQiLCJ0b1N0cmluZyIsIl90eXBlb2YiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInRhcmdldCIsInNvdXJjZSIsImRlZmluZVByb3BlcnRpZXMiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX3JlbmRlciIsIl9maXhCYWJlbEV4dGVuZCIsIk8iLCJnUE8iLCJzUE8iLCJjb25zdHJ1Y3QiLCJSZWZsZWN0IiwiUGFyZW50IiwiQ2xhc3MiLCJhIiwiQ29tcG9uZW50IiwiX0hUTUxFbGVtZW50IiwiX3JlZiIsIl90ZW1wIiwiX3JldCIsIl9fZGVmYXVsdFByb3BzIiwic3RhdGUiLCJtb3VudGVkIiwicm9vdCIsImNvbnRlbnQiLCJFcnJvciIsImlubmVySFRNTCIsIl90aGlzMiIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yIiwiX2RpZEl0ZXJhdG9yRXJyb3IyIiwiX2l0ZXJhdG9yRXJyb3IyIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsInJlbmRlciIsInN1YnNjcmliZVRvU3RvcmUiLCJjb25uZWN0ZWQiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyIsIl9kaWRJdGVyYXRvckVycm9yMyIsIl9pdGVyYXRvckVycm9yMyIsIl9zdGVwMyIsIl9pdGVyYXRvcjMiLCJkaXNjb25uZWN0ZWQiLCJhZG9wdGVkIiwiYXR0cmlidXRlTmFtZSIsIm9sZFZhbHVlIiwibmV3VmFsdWUiLCJwcm9wc0NoYW5nZWQiLCJuZXdQcm9wcyIsIk51bWJlciIsIm9ic2VydmFibGVQcm9wcyIsIm1hcCIsIkhUTUxFbGVtZW50IiwiYmVmb3JlUmVuZGVyIiwiaXNTaGFkb3ciLCJzaGFkb3dSb290IiwiYXR0YWNoU2hhZG93IiwibW9kZSIsInN0eWxlcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwic3R5bGUiLCJyZW5kZXJSZXMiLCJpbnNlcnRDb250ZW50IiwiYWZ0ZXJSZW5kZXIiXSwibWFwcGluZ3MiOiJBQUFBQSxPQUFPQyxRQUNFLFNBQVVDLEdDR25CLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBSCxPQUdBLElBQUFELEdBQUFLLEVBQUFELElBQ0FFLEVBQUFGLEVBQ0FHLEdBQUEsRUFDQU4sV0FVQSxPQU5BQyxHQUFBRSxHQUFBSSxLQUFBUixFQUFBQyxRQUFBRCxJQUFBQyxRQUFBRSxHQUdBSCxFQUFBTyxHQUFBLEVB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LEtBQUt3TSxPQUFoQyxXQUNBeE0sS0FBS3NLLEtBQU90SyxNQUlwQixJQUFNNk0sR0FBWTdNLEtBQUtnTCxRQUNuQjZCLElBQ0E3TSxLQUFLOE0sY0FBYzlNLEtBQUtzSyxLQUFNdUMsR0FHbEM3TSxLQUFLcUssU0FBVSxFQUVmckssS0FBSytNLGNWczNCVHBQLE9BQU9DLGVBQWVmLEVBQVMsY0FDM0I4QixPQUFPLElBRVg5QixFVW41QmdCbU8iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID1cbi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX09iamVjdCRjcmVhdGU7XG5cbmV4cG9ydHMuc2V0U3RvcmFnZURyaXZlciA9IHNldFN0b3JhZ2VEcml2ZXI7XG5leHBvcnRzLmdldFN0b3JhZ2UgPSBnZXRTdG9yYWdlO1xuZXhwb3J0cy5hZGRTdG9yYWdlID0gYWRkU3RvcmFnZTtcbmV4cG9ydHMucmVtb3ZlU3RvcmFnZSA9IHJlbW92ZVN0b3JhZ2U7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciBwcm9wc01hcCA9IG5ldyBNYXAoKTtcblxudmFyIGV2ZW50c01hcCA9IG5ldyBNYXAoKTtcblxudmFyIHN0b3JhZ2VLZXlzID0gZXhwb3J0cy5zdG9yYWdlS2V5cyA9IHtcbiAgICBQUk9QUzogXCJwcm9wc1wiLFxuICAgIEVWRU5UUzogXCJldmVudHNcIlxufTtcblxudmFyIGRyaXZlciA9IHtcbiAgICBpdGVtczogT2JqZWN0LmNyZWF0ZSgoX09iamVjdCRjcmVhdGUgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9PYmplY3QkY3JlYXRlLCBzdG9yYWdlS2V5cy5QUk9QUywgcHJvcHNNYXApLCBfZGVmaW5lUHJvcGVydHkoX09iamVjdCRjcmVhdGUsIHN0b3JhZ2VLZXlzLkVWRU5UUywgZXZlbnRzTWFwKSwgX09iamVjdCRjcmVhdGUpKSxcbiAgICBzZXRJdGVtOiBmdW5jdGlvbiBzZXRJdGVtKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5pdGVtc1trZXldID0gdmFsdWU7XG4gICAgfSxcbiAgICBnZXRJdGVtOiBmdW5jdGlvbiBnZXRJdGVtKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtc1trZXldO1xuICAgIH0sXG4gICAgcmVtb3ZlSXRlbTogZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaXRlbXNba2V5XTtcbiAgICB9LFxuICAgIG1pZ3JhdGU6IGZ1bmN0aW9uIG1pZ3JhdGUoZHJpdmVyKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLml0ZW1zKSB7XG4gICAgICAgICAgICBkcml2ZXIuc2V0SXRlbShrZXksIHRoaXMuaXRlbXNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRyaXZlcjtcbiAgICB9XG59O1xuXG52YXIgc3RvcmFnZSA9IGV4cG9ydHMuc3RvcmFnZSA9IHtcbiAgICBkcml2ZXI6IGRyaXZlclxufTtcblxuZnVuY3Rpb24gc2V0U3RvcmFnZURyaXZlcihkcml2ZXIpIHtcbiAgICBzdG9yYWdlLmRyaXZlciA9IHN0b3JhZ2UuZHJpdmVyLm1pZ3JhdGUoZHJpdmVyKTtcbn1cblxuZnVuY3Rpb24gZ2V0U3RvcmFnZShrZXkpIHtcbiAgICByZXR1cm4gc3RvcmFnZS5kcml2ZXIuZ2V0SXRlbShrZXkpO1xufVxuXG5mdW5jdGlvbiBhZGRTdG9yYWdlKGtleSwgdmFsdWUpIHtcbiAgICBzdG9yYWdlLmRyaXZlci5zZXRJdGVtKGtleSwgdmFsdWUpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdG9yYWdlKGtleSkge1xuICAgIHN0b3JhZ2UuZHJpdmVyLnJlbW92ZUl0ZW0oa2V5KTtcbn1cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMudGFnTmFtZVRvUHJvcCA9IHRhZ05hbWVUb1Byb3A7XG5leHBvcnRzLnByb3BOYW1lVG9UYWcgPSBwcm9wTmFtZVRvVGFnO1xuZXhwb3J0cy5jcmVhdGVUYWdBcmcgPSBjcmVhdGVUYWdBcmc7XG5leHBvcnRzLm1hdGNoVGFnQXJnID0gbWF0Y2hUYWdBcmc7XG5leHBvcnRzLnJlcGxhY2VUYWdBcmcgPSByZXBsYWNlVGFnQXJnO1xuZXhwb3J0cy5hdHRyaWJ1dGVTdGFydHMgPSBhdHRyaWJ1dGVTdGFydHM7XG5mdW5jdGlvbiB0YWdOYW1lVG9Qcm9wKG5vZGVOYW1lKSB7XG4gICAgcmV0dXJuIG5vZGVOYW1lLnNwbGl0KFwiLVwiKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgbmV4dCkge1xuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGFjYyArIG5leHRbMF0udG9VcHBlckNhc2UoKSArIG5leHQuc2xpY2UoMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gcHJvcE5hbWVUb1RhZyhwcm9wKSB7XG4gICAgdmFyIHJlcyA9IFwiXCI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChwcm9wW2ldID09PSBwcm9wW2ldLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIHJlcyArPSBcIi1cIiArIHByb3BbaV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcyArPSBwcm9wW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRhZ0FyZyhpbmRleCwgc3RhcnRBdHRyaWJ1dGUpIHtcbiAgICBpZiAoc3RhcnRBdHRyaWJ1dGUpIHJldHVybiBcIl9fQVJHX19cIiArIGluZGV4O1xuICAgIHJldHVybiBcIjwhLS1fX0FSR19fXCIgKyBpbmRleCArIFwiLS0+XCI7XG59XG5cbmZ1bmN0aW9uIG1hdGNoVGFnQXJnKHN0cikge1xuICAgIHJldHVybiBzdHIubWF0Y2goLyg/OjwhLS0pP19fQVJHX18oXFxkKykoPzotLT4pPy8pO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlVGFnQXJnKHN0ciwgZm4pIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyg/OjwhLS0pP19fQVJHX18oXFxkKykoPzotLT4pPy9nLCBmbik7XG59XG5cbmZ1bmN0aW9uIGF0dHJpYnV0ZVN0YXJ0cyhzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRyaW0oKS5zbGljZSgtMikgPT09IFwiPVxcXCJcIjtcbn1cblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuXG52YXIgZGVmYXVsdEltcGxlbWVudGF0aW9uID0ge1xuICAgIHJlZ2lzdGVyQ29tcG9uZW50OiBmdW5jdGlvbiByZWdpc3RlckNvbXBvbmVudChuYW1lLCBjb21wb25lbnQpIHtcbiAgICAgICAgaWYgKCdjdXN0b21FbGVtZW50cycgaW4gd2luZG93KSB7XG4gICAgICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUobmFtZSwgY29tcG9uZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRSZWFkeUNoZWNrKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3JlZ2lzdGVyQ29tcG9uZW50KG5hbWUsIGNvbXBvbmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaXNDdXN0b21Db21wb25lbnQ6IGZ1bmN0aW9uIGlzQ3VzdG9tQ29tcG9uZW50KG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUubm9kZU5hbWUuaW5jbHVkZXMoXCItXCIpO1xuICAgIH1cbn07XG5cbnZhciBjdXJyZW50SW1wbGVtZW50YXRpb24gPSBkZWZhdWx0SW1wbGVtZW50YXRpb247XG5cbnZhciBfcmVnaXN0ZXJDb21wb25lbnQgPSBmdW5jdGlvbiBfcmVnaXN0ZXJDb21wb25lbnQobmFtZSwgY29tcG9uZW50KSB7XG4gICAgcmV0dXJuIGN1cnJlbnRJbXBsZW1lbnRhdGlvbi5yZWdpc3RlckNvbXBvbmVudChuYW1lLCBjb21wb25lbnQpO1xufTtcblxudmFyIHNldEltcGxlbWVudGF0aW9uID0gZXhwb3J0cy5zZXRJbXBsZW1lbnRhdGlvbiA9IGZ1bmN0aW9uIHNldEltcGxlbWVudGF0aW9uKGltcGxlbWVudGF0aW9uKSB7XG4gICAgY3VycmVudEltcGxlbWVudGF0aW9uID0gaW1wbGVtZW50YXRpb247XG59O1xuXG52YXIgY3VycmVudFJlYWR5Q2hlY2sgPSBmdW5jdGlvbiBjdXJyZW50UmVhZHlDaGVjaygpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG59O1xuXG52YXIgY29tcG9uZW50c1JlYWR5ID0gZXhwb3J0cy5jb21wb25lbnRzUmVhZHkgPSBmdW5jdGlvbiBjb21wb25lbnRzUmVhZHkoKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRSZWFkeUNoZWNrKCk7XG59O1xuXG52YXIgc2V0UmVhZHlDaGVjayA9IGV4cG9ydHMuc2V0UmVhZHlDaGVjayA9IGZ1bmN0aW9uIHNldFJlYWR5Q2hlY2socmVhZHlDaGVjaykge1xuICAgIGN1cnJlbnRSZWFkeUNoZWNrID0gcmVhZHlDaGVjaztcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9yZWdpc3RlckNvbXBvbmVudDtcbnZhciBpc0N1c3RvbUNvbXBvbmVudCA9IGV4cG9ydHMuaXNDdXN0b21Db21wb25lbnQgPSBmdW5jdGlvbiBpc0N1c3RvbUNvbXBvbmVudChub2RlKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRJbXBsZW1lbnRhdGlvbi5pc0N1c3RvbUNvbXBvbmVudChub2RlKTtcbn07XG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cblxudmFyIHN0dWJJbXBsZW1lbnRhdGlvbiA9IHtcbiAgICByZWR1Y2Vyczoge30sXG4gICAgc3Vic2NyaXB0aW9uczoge30sXG4gICAgYWRkUmVkdWNlcjogZnVuY3Rpb24gYWRkUmVkdWNlcihrZXksIHJlZHVjZXIpIHtcbiAgICAgICAgdGhpcy5yZWR1Y2Vyc1trZXldID0gcmVkdWNlcjtcbiAgICB9LFxuICAgIHJlbW92ZVJlZHVjZXI6IGZ1bmN0aW9uIHJlbW92ZVJlZHVjZXIoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnJlZHVjZXJzW2tleV07XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKGtleSwgY2IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBpZiAoIXRoaXMuc3Vic2NyaXB0aW9uc1trZXldKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uc1trZXldLnB1c2goY2IpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnN1YnNjcmlwdGlvbnNba2V5XSA9IF90aGlzLnN1YnNjcmlwdGlvbnNba2V5XS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbCAhPT0gY2I7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSxcbiAgICBnZXRTdGF0ZTogZnVuY3Rpb24gZ2V0U3RhdGUoa2V5KSB7fSxcbiAgICBtaWdyYXRlOiBmdW5jdGlvbiBtaWdyYXRlKG5ld1N0b3JlKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnJlZHVjZXJzKSB7XG4gICAgICAgICAgICB2YXIgcmVkdWNlciA9IHRoaXMucmVkdWNlcnNba2V5XTtcbiAgICAgICAgICAgIG5ld1N0b3JlLmFkZFJlZHVjZXIoa2V5LCByZWR1Y2VyKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBfa2V5IGluIHRoaXMuc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5zdWJzY3JpcHRpb25zW19rZXldW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgbmV3U3RvcmUuc3Vic2NyaWJlKF9rZXksIHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3U3RvcmU7XG4gICAgfVxufTtcblxudmFyIHN0b3JlID0ge1xuICAgIGN1cnJlbnRJbXBsZW1lbnRhdGlvbjogc3R1YkltcGxlbWVudGF0aW9uXG59O1xuXG52YXIgc2V0SW1wbGVtZW50YXRpb24gPSBleHBvcnRzLnNldEltcGxlbWVudGF0aW9uID0gZnVuY3Rpb24gc2V0SW1wbGVtZW50YXRpb24oaW1wbGVtZW50YXRpb24pIHtcbiAgICBzdG9yZS5jdXJyZW50SW1wbGVtZW50YXRpb24gPSBzdG9yZS5jdXJyZW50SW1wbGVtZW50YXRpb24ubWlncmF0ZShpbXBsZW1lbnRhdGlvbik7XG59O1xuXG52YXIgcmVnaXN0ZXJSZWR1Y2VyID0gZXhwb3J0cy5yZWdpc3RlclJlZHVjZXIgPSBmdW5jdGlvbiByZWdpc3RlclJlZHVjZXIoa2V5LCByZWR1Y2VyKSB7XG4gICAgc3RvcmUuY3VycmVudEltcGxlbWVudGF0aW9uLmFkZFJlZHVjZXIoa2V5LCByZWR1Y2VyKTtcbn07XG52YXIgcmVtb3ZlUmVkdWNlciA9IGV4cG9ydHMucmVtb3ZlUmVkdWNlciA9IGZ1bmN0aW9uIHJlbW92ZVJlZHVjZXIoa2V5KSB7XG4gICAgc3RvcmUuY3VycmVudEltcGxlbWVudGF0aW9uLnJlbW92ZVJlZHVjZXIoa2V5KTtcbn07XG52YXIgc3Vic2NyaWJlID0gZXhwb3J0cy5zdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUoa2V5LCBjYikge1xuICAgIHJldHVybiBzdG9yZS5jdXJyZW50SW1wbGVtZW50YXRpb24uc3Vic2NyaWJlKGtleSwgY2IpO1xufTtcbnZhciBnZXRTdGF0ZSA9IGV4cG9ydHMuZ2V0U3RhdGUgPSBmdW5jdGlvbiBnZXRTdGF0ZShrZXkpIHtcbiAgICByZXR1cm4gc3RvcmUuY3VycmVudEltcGxlbWVudGF0aW9uLmdldFN0YXRlKGtleSk7XG59O1xuXG4vKioqLyB9KSxcbi8qIDQgKi8sXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF93ZWJDb21wb25lbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY2hhbmdlV2ViQ29tcG9uZW50c0ltcGxlbWVuYXRpb25cIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfd2ViQ29tcG9uZW50cy5zZXRJbXBsZW1lbnRhdGlvbjtcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbXBvbmVudHNSZWFkeVwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF93ZWJDb21wb25lbnRzLmNvbXBvbmVudHNSZWFkeTtcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNoYW5nZVdlYkNvbXBvbmVudHNSZWFkeUNoZWNrXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3dlYkNvbXBvbmVudHMuc2V0UmVhZHlDaGVjaztcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlZ2lzdGVyQ29tcG9uZW50XCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2ViQ29tcG9uZW50cykuZGVmYXVsdDtcbiAgICB9XG59KTtcblxudmFyIF9zdG9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNoYW5nZVN0b3JlSW1wbGVtZW50YXRpb25cIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfc3RvcmUuc2V0SW1wbGVtZW50YXRpb247XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZWdpc3RlclJlZHVjZXJcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfc3RvcmUucmVnaXN0ZXJSZWR1Y2VyO1xuICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicmVtb3ZlUmVkdWNlclwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdG9yZS5yZW1vdmVSZWR1Y2VyO1xuICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3Vic2NyaWJlXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3N0b3JlLnN1YnNjcmliZTtcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImdldFN0YXRlXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3N0b3JlLmdldFN0YXRlO1xuICAgIH1cbn0pO1xuXG52YXIgX3RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNzc1wiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF90YWcuY3NzO1xuICAgIH1cbn0pO1xuXG52YXIgX3N0b3JhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJnZXRTdG9yYWdlXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3N0b3JhZ2UuZ2V0U3RvcmFnZTtcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImFkZFN0b3JhZ2VcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfc3RvcmFnZS5hZGRTdG9yYWdlO1xuICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicmVtb3ZlU3RvcmFnZVwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdG9yYWdlLnJlbW92ZVN0b3JhZ2U7XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzZXRTdG9yYWdlRHJpdmVyXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3N0b3JhZ2Uuc2V0U3RvcmFnZURyaXZlcjtcbiAgICB9XG59KTtcblxudmFyIF9iaW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYmluZFwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9iaW5kLmJpbmQ7XG4gICAgfVxufSk7XG5cbnZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtYXRjaFRhZ0FyZ1wiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF91dGlscy5tYXRjaFRhZ0FyZztcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlcGxhY2VUYWdBcmdcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfdXRpbHMucmVwbGFjZVRhZ0FyZztcbiAgICB9XG59KTtcblxudmFyIF9Db21wb25lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDb21wb25lbnRcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db21wb25lbnQpLmRlZmF1bHQ7XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb25uZWN0XCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX0NvbXBvbmVudC5jb25uZWN0O1xuICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZGVmaW5lXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX0NvbXBvbmVudC5kZWZpbmU7XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJwcm9wc1wiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9Db21wb25lbnQucHJvcHM7XG4gICAgfVxufSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmNzcyA9IGNzcztcbmZ1bmN0aW9uIGNzcyhjdHgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0cmluZ3MpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nc1tpXTtcbiAgICAgICAgICAgIGlmIChpIDwgc3RyaW5ncy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzW2ldID09PSBcImZ1bmN0aW9uXCIpIHJlc3VsdCArPSBhcmdzW2ldKCk7ZWxzZSByZXN1bHQgKz0gYXJnc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmJpbmQgPSBiaW5kO1xuXG52YXIgX3N0b3JhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxudmFyIEtFWSA9IFwiQk9VTkRTXCI7XG52YXIgTUFYX1NUT1JBR0VfU0laRSA9IDEwMDtcblxuKDAsIF9zdG9yYWdlLmFkZFN0b3JhZ2UpKEtFWSwgbmV3IE1hcCgpKTtcblxuZnVuY3Rpb24gYXBwZW5kVG9TdG9yYWdlKGZuLCB2YWx1ZSkge1xuICAgIHZhciBzdG9yYWdlID0gKDAsIF9zdG9yYWdlLmdldFN0b3JhZ2UpKEtFWSk7XG4gICAgaWYgKHN0b3JhZ2Uuc2l6ZSA9PT0gTUFYX1NUT1JBR0VfU0laRSkge1xuICAgICAgICB2YXIga2V5cyA9IHN0b3JhZ2Uua2V5cygpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgIHN0b3JhZ2UuZGVsZXRlKGtleXMubmV4dCgpLnZhbHVlKTtcbiAgICB9XG4gICAgc3RvcmFnZS5zZXQoZm4sIHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gYmluZChmbikge1xuICAgIHZhciBzdG9yYWdlID0gKDAsIF9zdG9yYWdlLmdldFN0b3JhZ2UpKEtFWSk7XG4gICAgdmFyIGJvdW5kID0gc3RvcmFnZS5nZXQoZm4pO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBmaXJzdEFyZyA9IGFyZ3NbMF07XG4gICAgdmFyIGJvdW5kRm4gPSBmbi5iaW5kLmFwcGx5KGZuLCBbbnVsbF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShhcmdzKSkpO1xuICAgIGlmIChib3VuZCkge1xuICAgICAgICBpZiAoIWJvdW5kLmdldChmaXJzdEFyZykpIHtcbiAgICAgICAgICAgIGJvdW5kLnNldChmaXJzdEFyZywgYm91bmRGbik7XG4gICAgICAgICAgICByZXR1cm4gYm91bmRGbjtcbiAgICAgICAgfVxuICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgIHJldHVybiBib3VuZC5nZXQoZmlyc3RBcmcpO1xuICAgIH1cblxuICAgIHZhciBmbk1hcCA9IG5ldyBNYXAoKTtcbiAgICBmbk1hcC5zZXQoZmlyc3RBcmcsIGJvdW5kRm4pO1xuICAgIGFwcGVuZFRvU3RvcmFnZShmbiwgZm5NYXApO1xuICAgIHJldHVybiBib3VuZEZuO1xufVxuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmV4cG9ydHMuY29ubmVjdCA9IGNvbm5lY3Q7XG5leHBvcnRzLmRlZmluZSA9IGRlZmluZTtcbmV4cG9ydHMucHJvcHMgPSBwcm9wcztcblxudmFyIF93ZWJDb21wb25lbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF93ZWJDb21wb25lbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dlYkNvbXBvbmVudHMpO1xuXG52YXIgX3N0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9yZW5kZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG52YXIgX3N0b3JhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgX2ZpeEJhYmVsRXh0ZW5kID0gZnVuY3Rpb24gKE8pIHtcbiAgICB2YXIgZ1BPID0gTy5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAobykge1xuICAgICAgICByZXR1cm4gby5fX3Byb3RvX187XG4gICAgfSxcbiAgICAgICAgc1BPID0gTy5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAobywgcCkge1xuICAgICAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgICAgIHJldHVybiBvO1xuICAgIH0sXG4gICAgICAgIGNvbnN0cnVjdCA9ICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKFJlZmxlY3QpKSA9PT0gJ29iamVjdCcgPyBSZWZsZWN0LmNvbnN0cnVjdCA6IGZ1bmN0aW9uIChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgICAgIHZhciBDb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIGEgPSBbbnVsbF07XG4gICAgICAgIGEucHVzaC5hcHBseShhLCBhcmdzKTtcbiAgICAgICAgQ29uc3RydWN0b3IgPSBQYXJlbnQuYmluZC5hcHBseShQYXJlbnQsIGEpO1xuICAgICAgICByZXR1cm4gc1BPKG5ldyBDb25zdHJ1Y3RvcigpLCBDbGFzcy5wcm90b3R5cGUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gZml4QmFiZWxFeHRlbmQoQ2xhc3MpIHtcbiAgICAgICAgdmFyIFBhcmVudCA9IGdQTyhDbGFzcyk7XG4gICAgICAgIHJldHVybiBzUE8oQ2xhc3MsIHNQTyhmdW5jdGlvbiBTdXBlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3QoUGFyZW50LCBhcmd1bWVudHMsIGdQTyh0aGlzKS5jb25zdHJ1Y3Rvcik7XG4gICAgICAgIH0sIFBhcmVudCkpO1xuICAgIH07XG59KE9iamVjdCk7XG5cbnZhciBwcm9wc1N0b3JhZ2UgPSAoMCwgX3N0b3JhZ2UuZ2V0U3RvcmFnZSkoX3N0b3JhZ2Uuc3RvcmFnZUtleXMuUFJPUFMpO1xuXG5mdW5jdGlvbiBwYXJzZUF0dHJpYnV0ZXMoYXR0cmlidXRlcykge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gYXR0cmlidXRlc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgcmVzdWx0WygwLCBfdXRpbHMudGFnTmFtZVRvUHJvcCkoYXR0cmlidXRlLm5hbWUpXSA9IGF0dHJpYnV0ZS52YWx1ZTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxudmFyIENvbXBvbmVudCA9IF9maXhCYWJlbEV4dGVuZChmdW5jdGlvbiAoX0hUTUxFbGVtZW50KSB7XG4gICAgX2luaGVyaXRzKENvbXBvbmVudCwgX0hUTUxFbGVtZW50KTtcblxuICAgIGZ1bmN0aW9uIENvbXBvbmVudCgpIHtcbiAgICAgICAgdmFyIF9yZWY7XG5cbiAgICAgICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29tcG9uZW50KTtcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9yZWYgPSBDb21wb25lbnQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDb21wb25lbnQpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5fX2RlZmF1bHRQcm9wcyA9IHt9LCBfdGhpcy5zdWJzY3JpcHRpb25zID0gW10sIF90aGlzLnN0YXRlID0ge30sIF90aGlzLm1vdW50ZWQgPSBmYWxzZSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENvbXBvbmVudCwgW3tcbiAgICAgICAga2V5OiBcImJlZm9yZVJlbmRlclwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYmVmb3JlUmVuZGVyKCkge31cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJyZW5kZXJcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImluc2VydENvbnRlbnRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluc2VydENvbnRlbnQocm9vdCwgY29udGVudCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcm9vdC5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJkZWZhdWx0IHJlbmRlcmVyIGNhbiBoYW5kbGUgb25seSBzdHJpbmdzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiYWZ0ZXJSZW5kZXJcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFmdGVyUmVuZGVyKCkge31cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJzdWJzY3JpYmVUb1N0b3JlXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJzY3JpYmVUb1N0b3JlKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0aGlzLmtleXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCgoMCwgX3N0b3JlLnN1YnNjcmliZSkoa2V5LCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3JlbmRlci5yZW5kZXIuY2FsbChfdGhpczIpO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAoMCwgX3N0b3JlLmdldFN0YXRlKShrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiY29ubmVjdGVkQ2FsbGJhY2tcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVUb1N0b3JlKCk7XG4gICAgICAgICAgICBfcmVuZGVyLnJlbmRlci5jYWxsKHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RlZCgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiY29ubmVjdGVkXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb25uZWN0ZWQoKSB7fVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImRpc2Nvbm5lY3RlZENhbGxiYWNrXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSB0aGlzLnN1YnNjcmlwdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IF9zdGVwMy52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWQoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImRpc2Nvbm5lY3RlZFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzY29ubmVjdGVkKCkge31cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJhZG9wdGVkQ2FsbGJhY2tcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkb3B0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlVG9TdG9yZSgpO1xuICAgICAgICAgICAgX3JlbmRlci5yZW5kZXIuY2FsbCh0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5hZG9wdGVkKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJhZG9wdGVkXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZG9wdGVkKCkge31cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyaWJ1dGVOYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdW50ZWQgJiYgb2xkVmFsdWUgIT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzQ2hhbmdlZChfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgX2RlZmluZVByb3BlcnR5KHt9LCBhdHRyaWJ1dGVOYW1lLCBuZXdWYWx1ZSkpKTtcbiAgICAgICAgICAgICAgICBfcmVuZGVyLnJlbmRlci5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwicHJvcHNDaGFuZ2VkXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9wc0NoYW5nZWQobmV3UHJvcHMpIHt9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwibmFtZVwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImlzU2hhZG93XCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJwcm9wc1wiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVzID0gcGFyc2VBdHRyaWJ1dGVzKHRoaXMuYXR0cmlidXRlcyk7XG4gICAgICAgICAgICB2YXIgaWQgPSBOdW1iZXIoYXR0cmlidXRlcy5wcm9wc0lkKTtcbiAgICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgdGhpcy5fX2RlZmF1bHRQcm9wcywgYXR0cmlidXRlcywgcHJvcHNTdG9yYWdlLmdldChpZCkgfHwge30pO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChwcm9wcykge1xuICAgICAgICAgICAgdGhpcy5fX2RlZmF1bHRQcm9wcyA9IHByb3BzO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwia2V5c1wiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInN0eWxlc1wiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgfV0sIFt7XG4gICAgICAgIGtleTogXCJvYnNlcnZlZEF0dHJpYnV0ZXNcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vYnNlcnZhYmxlUHJvcHMubWFwKF91dGlscy5wcm9wTmFtZVRvVGFnKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcIm9ic2VydmFibGVQcm9wc1wiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDb21wb25lbnQ7XG59KEhUTUxFbGVtZW50KSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENvbXBvbmVudDtcbmZ1bmN0aW9uIGNvbm5lY3Qoa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChXcmFwcGVkKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoX1dyYXBwZWQpIHtcbiAgICAgICAgICAgIF9pbmhlcml0cyhfY2xhc3MyLCBfV3JhcHBlZCk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIF9jbGFzczIoKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIF9jbGFzczIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfY2xhc3MyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoX2NsYXNzMikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoX2NsYXNzMiwgW3tcbiAgICAgICAgICAgICAgICBrZXk6IFwia2V5c1wiLFxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gX2NsYXNzMjtcbiAgICAgICAgfShXcmFwcGVkKTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBkZWZpbmUobmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoV3JhcHBlZCkge1xuICAgICAgICAoMCwgX3dlYkNvbXBvbmVudHMyLmRlZmF1bHQpKG5hbWUsIFdyYXBwZWQpO1xuICAgICAgICByZXR1cm4gV3JhcHBlZDtcbiAgICB9O1xufVxuXG52YXIgcHJvcHNJZCA9IDA7XG5cbmZ1bmN0aW9uIHByb3BzKHByb3BzKSB7XG4gICAgdmFyIGlkID0gcHJvcHNJZCsrO1xuICAgIHByb3BzU3RvcmFnZS5zZXQoaWQsIHByb3BzKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAncHJvcHMtaWQnOiBpZCxcbiAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgICAgICAgcmV0dXJuIFwicHJvcHMtaWQ9XFxcIlwiICsgaWQgKyBcIlxcXCJcIjtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnJlbmRlciA9IHJlbmRlcjtcbmZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB0aGlzLmJlZm9yZVJlbmRlcigpO1xuXG4gICAgaWYgKHRoaXMuaXNTaGFkb3cgJiYgIXRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucm9vdCkge1xuICAgICAgICBpZiAodGhpcy5pc1NoYWRvdykge1xuICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmlubmVySFRNTCA9ICc8c3R5bGU+JyArIHRoaXMuc3R5bGVzICsgJzwvc3R5bGU+JztcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodGhpcy5yb290KTtcbiAgICAgICAgICAgIHRoaXMucm9vdC5zdHlsZSA9ICdkaXNwbGF5OiBjb250ZW50cyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlubmVySFRNTCA9ICc8c3R5bGU+JyArIHRoaXMuc3R5bGVzICsgJzwvc3R5bGU+JztcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmVuZGVyUmVzID0gdGhpcy5yZW5kZXIoKTtcbiAgICBpZiAocmVuZGVyUmVzKSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0Q29udGVudCh0aGlzLnJvb3QsIHJlbmRlclJlcyk7XG4gICAgfVxuXG4gICAgdGhpcy5tb3VudGVkID0gdHJ1ZTtcblxuICAgIHRoaXMuYWZ0ZXJSZW5kZXIoKTtcbn1cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBtYWluLmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgM2M3OWUzMjVhYWFkYjQwYzE5OGIiLCIvLyBAZmxvd1xuXG5pbXBvcnQgdHlwZSB7U3RvcmFnZURyaXZlcn0gZnJvbSBcIi4vaW50ZXJmYWNlc1wiO1xuXG5jb25zdCBwcm9wc01hcDogTWFwPGFueSwgYW55PiA9IG5ldyBNYXA7XG5cbmNvbnN0IGV2ZW50c01hcDogTWFwPGFueSwgYW55PiA9IG5ldyBNYXA7XG5cbmV4cG9ydCBjb25zdCBzdG9yYWdlS2V5cyA9IHtcbiAgICBQUk9QUzogXCJwcm9wc1wiLFxuICAgIEVWRU5UUzogXCJldmVudHNcIlxufTtcblxuY29uc3QgZHJpdmVyOiBTdG9yYWdlRHJpdmVyID0ge1xuICAgIGl0ZW1zOiBPYmplY3QuY3JlYXRlKHtcbiAgICAgICAgW3N0b3JhZ2VLZXlzLlBST1BTXTogcHJvcHNNYXAsXG4gICAgICAgIFtzdG9yYWdlS2V5cy5FVkVOVFNdOiBldmVudHNNYXAsXG4gICAgfSksXG4gICAgc2V0SXRlbShrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgICB0aGlzLml0ZW1zW2tleV0gPSB2YWx1ZVxuICAgIH0sXG4gICAgZ2V0SXRlbShrZXk6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtc1trZXldXG4gICAgfSxcbiAgICByZW1vdmVJdGVtKGtleTogc3RyaW5nKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLml0ZW1zW2tleV1cbiAgICB9LFxuICAgIG1pZ3JhdGUoZHJpdmVyOiBTdG9yYWdlRHJpdmVyKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuaXRlbXMpIHtcbiAgICAgICAgICAgIGRyaXZlci5zZXRJdGVtKFxuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zW2tleV1cbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZHJpdmVyXG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHN0b3JhZ2UgPSB7XG4gICAgZHJpdmVyXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0U3RvcmFnZURyaXZlcihkcml2ZXI6IFN0b3JhZ2VEcml2ZXIpOiB2b2lkIHtcbiAgICBzdG9yYWdlLmRyaXZlciA9IHN0b3JhZ2UuZHJpdmVyLm1pZ3JhdGUoZHJpdmVyKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RvcmFnZShrZXk6IHN0cmluZyk6IGFueSB7XG4gICAgcmV0dXJuIHN0b3JhZ2UuZHJpdmVyLmdldEl0ZW0oa2V5KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkU3RvcmFnZShrZXk6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQge1xuICAgIHN0b3JhZ2UuZHJpdmVyLnNldEl0ZW0oa2V5LCB2YWx1ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVN0b3JhZ2Uoa2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBzdG9yYWdlLmRyaXZlci5yZW1vdmVJdGVtKGtleSlcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc3RvcmFnZS5qcyIsIi8vIEBmbG93XG5cbmV4cG9ydCBmdW5jdGlvbiB0YWdOYW1lVG9Qcm9wKG5vZGVOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBub2RlTmFtZS5zcGxpdChcIi1cIikucmVkdWNlKFxuICAgICAgICAoYWNjLCBuZXh0KSA9PiB7XG4gICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2MgKyBuZXh0WzBdLnRvVXBwZXJDYXNlKCkgKyBuZXh0LnNsaWNlKDEpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjXG4gICAgICAgIH1cbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvcE5hbWVUb1RhZyhwcm9wOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGxldCByZXMgPSBcIlwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocHJvcFtpXSA9PT0gcHJvcFtpXS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICAgICAgICByZXMgKz0gXCItXCIrcHJvcFtpXS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMgKz0gcHJvcFtpXVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRhZ0FyZyhpbmRleDogbnVtYmVyLCBzdGFydEF0dHJpYnV0ZTogYm9vbGVhbik6IHN0cmluZyB7XG4gICAgaWYgKHN0YXJ0QXR0cmlidXRlKVxuICAgICAgICByZXR1cm4gYF9fQVJHX18ke2luZGV4fWA7XG4gICAgcmV0dXJuIGA8IS0tX19BUkdfXyR7aW5kZXh9LS0+YFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hUYWdBcmcoc3RyOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyLm1hdGNoKC8oPzo8IS0tKT9fX0FSR19fKFxcZCspKD86LS0+KT8vKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZVRhZ0FyZyhzdHI6IHN0cmluZywgZm46IEZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oPzo8IS0tKT9fX0FSR19fKFxcZCspKD86LS0+KT8vZywgZm4pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhdHRyaWJ1dGVTdGFydHMoc3RyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gc3RyLnRyaW0oKS5zbGljZSgtMikgPT09IGA9XCJgXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzLmpzIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUge1dlYkNvbXBvbmVudHMgYXMgSW1wbGVtZW50YXRpb259IGZyb20gXCIuL2ludGVyZmFjZXNcIlxuXG5jb25zdCBkZWZhdWx0SW1wbGVtZW50YXRpb246IEltcGxlbWVudGF0aW9uID0ge1xuICAgIHJlZ2lzdGVyQ29tcG9uZW50KG5hbWU6IHN0cmluZywgY29tcG9uZW50OiBDbGFzczxFbGVtZW50Pikge1xuICAgICAgICBpZiAoJ2N1c3RvbUVsZW1lbnRzJyBpbiB3aW5kb3cpIHtcbiAgICAgICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZShuYW1lLCBjb21wb25lbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudFJlYWR5Q2hlY2soKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZWdpc3RlckNvbXBvbmVudChuYW1lLCBjb21wb25lbnQpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfSxcbiAgICBpc0N1c3RvbUNvbXBvbmVudChub2RlOiBOb2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlLm5vZGVOYW1lLmluY2x1ZGVzKFwiLVwiKVxuICAgIH1cbn07XG5cbmxldCBjdXJyZW50SW1wbGVtZW50YXRpb24gPSBkZWZhdWx0SW1wbGVtZW50YXRpb247XG5cbmNvbnN0IHJlZ2lzdGVyQ29tcG9uZW50ID0gKG5hbWU6IHN0cmluZywgY29tcG9uZW50OiBDbGFzczxFbGVtZW50PikgPT4ge1xuICAgIHJldHVybiBjdXJyZW50SW1wbGVtZW50YXRpb24ucmVnaXN0ZXJDb21wb25lbnQobmFtZSwgY29tcG9uZW50KTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRJbXBsZW1lbnRhdGlvbiA9IChpbXBsZW1lbnRhdGlvbjogSW1wbGVtZW50YXRpb24pID0+IHtcbiAgICBjdXJyZW50SW1wbGVtZW50YXRpb24gPSBpbXBsZW1lbnRhdGlvbjtcbn07XG5cbmxldCBjdXJyZW50UmVhZHlDaGVjayA9ICgpID0+IFByb21pc2UucmVzb2x2ZSgpO1xuXG5leHBvcnQgY29uc3QgY29tcG9uZW50c1JlYWR5ID0gKCkgPT4ge1xuICAgIHJldHVybiBjdXJyZW50UmVhZHlDaGVjaygpXG59O1xuXG5leHBvcnQgY29uc3Qgc2V0UmVhZHlDaGVjayA9IChyZWFkeUNoZWNrOiBGdW5jdGlvbikgPT4ge1xuICAgIGN1cnJlbnRSZWFkeUNoZWNrID0gcmVhZHlDaGVjaztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHJlZ2lzdGVyQ29tcG9uZW50O1xuXG5leHBvcnQgY29uc3QgaXNDdXN0b21Db21wb25lbnQgPSAobm9kZTogTm9kZSkgPT4ge1xuICAgIHJldHVybiBjdXJyZW50SW1wbGVtZW50YXRpb24uaXNDdXN0b21Db21wb25lbnQobm9kZSlcbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3dlYi1jb21wb25lbnRzLmpzIiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUge1N0b3JlLCBSZWR1Y2VyfSBmcm9tIFwiLi9pbnRlcmZhY2VzXCJcblxuY29uc3Qgc3R1YkltcGxlbWVudGF0aW9uOiBTdG9yZSA9IHtcbiAgICByZWR1Y2Vyczoge30sXG4gICAgc3Vic2NyaXB0aW9uczoge30sXG4gICAgYWRkUmVkdWNlcihrZXk6IHN0cmluZywgcmVkdWNlcjogUmVkdWNlcikge1xuICAgICAgICB0aGlzLnJlZHVjZXJzW2tleV0gPSByZWR1Y2VyO1xuICAgIH0sXG4gICAgcmVtb3ZlUmVkdWNlcihrZXk6IHN0cmluZykge1xuICAgICAgICBkZWxldGUgdGhpcy5yZWR1Y2Vyc1trZXldO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBzdWJzY3JpYmUoa2V5OiBzdHJpbmcsIGNiOiBGdW5jdGlvbikge1xuICAgICAgICBpZiAoIXRoaXMuc3Vic2NyaXB0aW9uc1trZXldKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uc1trZXldLnB1c2goY2IpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdW5zdWJzY3JpYmU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnNba2V5XSA9IHRoaXMuc3Vic2NyaXB0aW9uc1trZXldLmZpbHRlcihlbCA9PiBlbCAhPT0gY2IpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldFN0YXRlKGtleTogc3RyaW5nKSB7fSxcbiAgICBtaWdyYXRlKG5ld1N0b3JlOiBTdG9yZSkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLnJlZHVjZXJzKSB7XG4gICAgICAgICAgICBjb25zdCByZWR1Y2VyID0gdGhpcy5yZWR1Y2Vyc1trZXldO1xuICAgICAgICAgICAgbmV3U3RvcmUuYWRkUmVkdWNlcihrZXksIHJlZHVjZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBzdWJzY3JpcHRpb24gb2YgdGhpcy5zdWJzY3JpcHRpb25zW2tleV0pIHtcbiAgICAgICAgICAgICAgICBuZXdTdG9yZS5zdWJzY3JpYmUoa2V5LCBzdWJzY3JpcHRpb24pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld1N0b3JlO1xuICAgIH1cbn07XG5cbmNvbnN0IHN0b3JlID0ge1xuICAgIGN1cnJlbnRJbXBsZW1lbnRhdGlvbjogc3R1YkltcGxlbWVudGF0aW9uXG59O1xuXG5leHBvcnQgY29uc3Qgc2V0SW1wbGVtZW50YXRpb24gPSAoaW1wbGVtZW50YXRpb246IFN0b3JlKSA9PiB7XG4gICAgc3RvcmUuY3VycmVudEltcGxlbWVudGF0aW9uID0gc3RvcmUuY3VycmVudEltcGxlbWVudGF0aW9uLm1pZ3JhdGUoaW1wbGVtZW50YXRpb24pXG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJSZWR1Y2VyID0gKGtleTogc3RyaW5nLCByZWR1Y2VyOiBSZWR1Y2VyKSA9PiB7XG4gICAgc3RvcmUuY3VycmVudEltcGxlbWVudGF0aW9uLmFkZFJlZHVjZXIoa2V5LCByZWR1Y2VyKVxufTtcbmV4cG9ydCBjb25zdCByZW1vdmVSZWR1Y2VyID0gKGtleTogc3RyaW5nKSA9PiB7XG4gICAgc3RvcmUuY3VycmVudEltcGxlbWVudGF0aW9uLnJlbW92ZVJlZHVjZXIoa2V5KVxufTtcbmV4cG9ydCBjb25zdCBzdWJzY3JpYmUgPSAoa2V5OiBzdHJpbmcsIGNiOiBGdW5jdGlvbikgPT4ge1xuICAgIHJldHVybiBzdG9yZS5jdXJyZW50SW1wbGVtZW50YXRpb24uc3Vic2NyaWJlKGtleSwgY2IpXG59O1xuZXhwb3J0IGNvbnN0IGdldFN0YXRlID0gKGtleTogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHN0b3JlLmN1cnJlbnRJbXBsZW1lbnRhdGlvbi5nZXRTdGF0ZShrZXkpXG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zdG9yZS5qcyIsIi8vIEBmbG93XG5cbmV4cG9ydCB7XG4gICAgc2V0SW1wbGVtZW50YXRpb24gYXMgY2hhbmdlV2ViQ29tcG9uZW50c0ltcGxlbWVuYXRpb24sXG4gICAgY29tcG9uZW50c1JlYWR5LFxuICAgIHNldFJlYWR5Q2hlY2sgYXMgY2hhbmdlV2ViQ29tcG9uZW50c1JlYWR5Q2hlY2ssXG4gICAgZGVmYXVsdCBhcyByZWdpc3RlckNvbXBvbmVudFxufSBmcm9tIFwiLi93ZWItY29tcG9uZW50c1wiXG5cbmV4cG9ydCB7XG4gICAgc2V0SW1wbGVtZW50YXRpb24gYXMgY2hhbmdlU3RvcmVJbXBsZW1lbnRhdGlvbixcbiAgICByZWdpc3RlclJlZHVjZXIsXG4gICAgcmVtb3ZlUmVkdWNlcixcbiAgICBzdWJzY3JpYmUsXG4gICAgZ2V0U3RhdGVcbn0gZnJvbSBcIi4vc3RvcmVcIlxuXG5leHBvcnQge1xuICAgIGNzc1xufSBmcm9tIFwiLi90YWdcIlxuXG5leHBvcnQge1xuICAgIGdldFN0b3JhZ2UsXG4gICAgYWRkU3RvcmFnZSxcbiAgICByZW1vdmVTdG9yYWdlLFxuICAgIHNldFN0b3JhZ2VEcml2ZXJcbn0gZnJvbSBcIi4vc3RvcmFnZVwiXG5cbmV4cG9ydCB7YmluZH0gZnJvbSBcIi4vYmluZFwiXG5cbmV4cG9ydCB7XG4gICAgbWF0Y2hUYWdBcmcsXG4gICAgcmVwbGFjZVRhZ0FyZ1xufSBmcm9tIFwiLi91dGlsc1wiXG5cbmV4cG9ydCB7XG4gICAgZGVmYXVsdCBhcyBDb21wb25lbnQsXG4gICAgY29ubmVjdCxcbiAgICBkZWZpbmUsXG4gICAgcHJvcHMsXG59IGZyb20gXCIuL0NvbXBvbmVudFwiXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5kZXguanMiLCIvLyBAZmxvd1xuXG5leHBvcnQgZnVuY3Rpb24gY3NzKGN0eDogT2JqZWN0KSB7XG4gICAgcmV0dXJuIChzdHJpbmdzOiBzdHJpbmdbXSwgLi4uYXJnczogYW55W10pID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9ICcnO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmdzW2ldO1xuICAgICAgICAgICAgaWYgKGkgPCBzdHJpbmdzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3NbaV0gPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGFyZ3NbaV0oKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBhcmdzW2ldXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdGFnLmpzIiwiLy8gQGZsb3dcblxuaW1wb3J0IHthZGRTdG9yYWdlLCBnZXRTdG9yYWdlfSBmcm9tIFwiLi9zdG9yYWdlXCJcblxuY29uc3QgS0VZID0gXCJCT1VORFNcIjtcbmNvbnN0IE1BWF9TVE9SQUdFX1NJWkUgPSAxMDA7XG5cbmFkZFN0b3JhZ2UoXG4gICAgS0VZLFxuICAgIG5ldyBNYXAoKVxuKTtcblxuZnVuY3Rpb24gYXBwZW5kVG9TdG9yYWdlKGZuOiBGdW5jdGlvbiwgdmFsdWU6IE1hcDxhbnksIEZ1bmN0aW9uPik6IHZvaWQge1xuICAgIGNvbnN0IHN0b3JhZ2U6IE1hcDxGdW5jdGlvbiwgTWFwPGFueSwgRnVuY3Rpb24+PiA9IGdldFN0b3JhZ2UoS0VZKTtcbiAgICBpZiAoc3RvcmFnZS5zaXplID09PSBNQVhfU1RPUkFHRV9TSVpFKSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBzdG9yYWdlLmtleXMoKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICBzdG9yYWdlLmRlbGV0ZShrZXlzLm5leHQoKS52YWx1ZSk7XG4gICAgfVxuICAgIHN0b3JhZ2Uuc2V0KGZuLCB2YWx1ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmQoZm46IEZ1bmN0aW9uLCAuLi5hcmdzOiBhbnlbXSk6IEZ1bmN0aW9uIHtcbiAgICBjb25zdCBzdG9yYWdlOiBNYXA8RnVuY3Rpb24sIE1hcDxhbnksIEZ1bmN0aW9uPj4gPSBnZXRTdG9yYWdlKEtFWSk7XG4gICAgY29uc3QgYm91bmQgPSBzdG9yYWdlLmdldChmbik7XG4gICAgY29uc3QgZmlyc3RBcmcgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGJvdW5kRm4gPSBmbi5iaW5kKG51bGwsIC4uLmFyZ3MpO1xuICAgIGlmIChib3VuZCkge1xuICAgICAgICBpZiAoIWJvdW5kLmdldChmaXJzdEFyZykpIHtcbiAgICAgICAgICAgIGJvdW5kLnNldChcbiAgICAgICAgICAgICAgICBmaXJzdEFyZyxcbiAgICAgICAgICAgICAgICBib3VuZEZuXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIGJvdW5kRm5cbiAgICAgICAgfVxuICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgIHJldHVybiBib3VuZC5nZXQoZmlyc3RBcmcpXG4gICAgfVxuXG4gICAgY29uc3QgZm5NYXAgPSBuZXcgTWFwKCk7XG4gICAgZm5NYXAuc2V0KFxuICAgICAgICBmaXJzdEFyZyxcbiAgICAgICAgYm91bmRGblxuICAgICk7XG4gICAgYXBwZW5kVG9TdG9yYWdlKFxuICAgICAgICBmbixcbiAgICAgICAgZm5NYXBcbiAgICApO1xuICAgIHJldHVybiBib3VuZEZuXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2JpbmQuanMiLCIvLyBAZmxvd1xuXG5pbXBvcnQgcmVnaXN0ZXJDb21wb25lbnQgZnJvbSBcIi4vd2ViLWNvbXBvbmVudHNcIlxuaW1wb3J0IHtzdWJzY3JpYmUsIGdldFN0YXRlfSBmcm9tIFwiLi9zdG9yZVwiXG5pbXBvcnQge3JlbmRlcn0gZnJvbSBcIi4vcmVuZGVyXCJcbmltcG9ydCB7Z2V0U3RvcmFnZSwgc3RvcmFnZUtleXN9IGZyb20gXCIuL3N0b3JhZ2VcIlxuaW1wb3J0IHtwcm9wTmFtZVRvVGFnLCB0YWdOYW1lVG9Qcm9wfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5jb25zdCBwcm9wc1N0b3JhZ2UgPSBnZXRTdG9yYWdlKHN0b3JhZ2VLZXlzLlBST1BTKTtcblxuZnVuY3Rpb24gcGFyc2VBdHRyaWJ1dGVzKGF0dHJpYnV0ZXM6IE5hbWVkTm9kZU1hcCk6IE9iamVjdCB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgYXR0cmlidXRlcykge1xuICAgICAgICByZXN1bHRbdGFnTmFtZVRvUHJvcChhdHRyaWJ1dGUubmFtZSldID0gYXR0cmlidXRlLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb25lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IubmFtZVxuICAgIH1cblxuICAgIGdldCBpc1NoYWRvdygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBnZXQgcHJvcHMoKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXM6IE9iamVjdCA9IHBhcnNlQXR0cmlidXRlcyh0aGlzLmF0dHJpYnV0ZXMpO1xuICAgICAgICBjb25zdCBpZCA9IE51bWJlcihhdHRyaWJ1dGVzLnByb3BzSWQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4udGhpcy5fX2RlZmF1bHRQcm9wcyxcbiAgICAgICAgICAgIC4uLmF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAuLi4ocHJvcHNTdG9yYWdlLmdldChpZCkgfHwge30pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXQgcHJvcHMocHJvcHM6IE9iamVjdCkge1xuICAgICAgICB0aGlzLl9fZGVmYXVsdFByb3BzID0gcHJvcHM7XG4gICAgfVxuXG4gICAgZ2V0IGtleXMoKSB7XG4gICAgICAgIHJldHVybiBbXVxuICAgIH1cblxuICAgIGdldCBzdHlsZXMoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiXCJcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpOiBzdHJpbmdbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9ic2VydmFibGVQcm9wcy5tYXAocHJvcE5hbWVUb1RhZylcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IG9ic2VydmFibGVQcm9wcygpIHtcbiAgICAgICAgcmV0dXJuIFtdXG4gICAgfVxuXG4gICAgX19kZWZhdWx0UHJvcHMgPSB7fTtcblxuICAgIHN1YnNjcmlwdGlvbnMgPSBbXTtcblxuICAgIHN0YXRlID0ge307XG5cbiAgICBtb3VudGVkID0gZmFsc2U7XG5cbiAgICByb290OiBIVE1MRWxlbWVudDtcblxuICAgIGJlZm9yZVJlbmRlcigpIHt9XG5cbiAgICByZW5kZXIoKTogc3RyaW5nIHwgdm9pZCB7XG4gICAgICAgIHJldHVybiAnJ1xuICAgIH1cblxuICAgIGluc2VydENvbnRlbnQocm9vdDogSFRNTEVsZW1lbnQsIGNvbnRlbnQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJvb3QuaW5uZXJIVE1MID0gY29udGVudFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZGVmYXVsdCByZW5kZXJlciBjYW4gaGFuZGxlIG9ubHkgc3RyaW5nc1wiKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWZ0ZXJSZW5kZXIoKSB7fVxuXG4gICAgc3Vic2NyaWJlVG9TdG9yZSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5rZXlzKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmUoa2V5LCBzdGF0ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyLmNhbGwodGhpcylcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBnZXRTdGF0ZShrZXkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlVG9TdG9yZSgpO1xuICAgICAgICByZW5kZXIuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLmNvbm5lY3RlZCgpXG4gICAgfVxuXG4gICAgY29ubmVjdGVkKCkge31cblxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHN1YnNjcmlwdGlvbiBvZiB0aGlzLnN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RlZCgpXG4gICAgfVxuXG4gICAgZGlzY29ubmVjdGVkKCkge31cblxuICAgIGFkb3B0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVUb1N0b3JlKCk7XG4gICAgICAgIHJlbmRlci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuYWRvcHRlZCgpXG4gICAgfVxuXG4gICAgYWRvcHRlZCgpIHt9XG5cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0cmlidXRlTmFtZTogc3RyaW5nLCBvbGRWYWx1ZTogc3RyaW5nLCBuZXdWYWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLm1vdW50ZWQgJiYgb2xkVmFsdWUgIT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHNDaGFuZ2VkKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgW2F0dHJpYnV0ZU5hbWVdOiBuZXdWYWx1ZSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVuZGVyLmNhbGwodGhpcylcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3BzQ2hhbmdlZChuZXdQcm9wczogT2JqZWN0KSB7fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29ubmVjdChrZXk6IHN0cmluZykge1xuICAgIHJldHVybiAoV3JhcHBlZDogQ2xhc3M8Q29tcG9uZW50PikgPT4ge1xuICAgICAgICByZXR1cm4gY2xhc3MgZXh0ZW5kcyBXcmFwcGVkIHtcbiAgICAgICAgICAgIGdldCBrZXlzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBba2V5XVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lKG5hbWU6IHN0cmluZykge1xuICAgIHJldHVybiAoV3JhcHBlZDogQ2xhc3M8Q29tcG9uZW50PikgPT4ge1xuICAgICAgICByZWdpc3RlckNvbXBvbmVudChuYW1lLCBXcmFwcGVkKTtcbiAgICAgICAgcmV0dXJuIFdyYXBwZWRcbiAgICB9XG59XG5cbmxldCBwcm9wc0lkID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIHByb3BzKHByb3BzOiBPYmplY3QpIHtcbiAgICBjb25zdCBpZCA9IHByb3BzSWQrKztcbiAgICBwcm9wc1N0b3JhZ2Uuc2V0KFxuICAgICAgICBpZCxcbiAgICAgICAgcHJvcHNcbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICAgICdwcm9wcy1pZCc6IGlkLFxuICAgICAgICB0b1N0cmluZygpIHtcbiAgICAgICAgICAgIHJldHVybiBgcHJvcHMtaWQ9XCIke2lkfVwiYFxuICAgICAgICB9XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9Db21wb25lbnQuanMiLCIvLyBAZmxvd1xuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHRoaXMuYmVmb3JlUmVuZGVyKCk7XG5cbiAgICBpZiAodGhpcy5pc1NoYWRvdyAmJiAhdGhpcy5zaGFkb3dSb290KSB7XG4gICAgICAgIHRoaXMuYXR0YWNoU2hhZG93KHttb2RlOiAnb3Blbid9KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucm9vdCkge1xuICAgICAgICBpZiAodGhpcy5pc1NoYWRvdykge1xuICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmlubmVySFRNTCA9IGA8c3R5bGU+JHt0aGlzLnN0eWxlc308L3N0eWxlPmA7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKHRoaXMucm9vdCk7XG4gICAgICAgICAgICB0aGlzLnJvb3Quc3R5bGUgPSAnZGlzcGxheTogY29udGVudHMnXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlubmVySFRNTCA9IGA8c3R5bGU+JHt0aGlzLnN0eWxlc308L3N0eWxlPmA7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSB0aGlzXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCByZW5kZXJSZXMgPSB0aGlzLnJlbmRlcigpO1xuICAgIGlmIChyZW5kZXJSZXMpIHtcbiAgICAgICAgdGhpcy5pbnNlcnRDb250ZW50KHRoaXMucm9vdCwgcmVuZGVyUmVzKVxuICAgIH1cblxuICAgIHRoaXMubW91bnRlZCA9IHRydWU7XG5cbiAgICB0aGlzLmFmdGVyUmVuZGVyKCk7XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3JlbmRlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=