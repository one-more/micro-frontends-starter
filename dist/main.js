module.exports=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){d.driver=d.driver.migrate(e)}function u(e){return d.driver.getItem(e)}function i(e,t){d.driver.setItem(e,t)}function c(e){d.driver.removeItem(e)}Object.defineProperty(t,"__esModule",{value:!0});var a;t.setStorageDriver=o,t.getStorage=u,t.addStorage=i,t.removeStorage=c;var s=new Map,f=new Map,l=t.storageKeys={PROPS:"props",EVENTS:"events"},p={items:Object.create((a={},n(a,l.PROPS,s),n(a,l.EVENTS,f),a)),setItem:function(e,t){this.items[e]=t},getItem:function(e){return this.items[e]},removeItem:function(e){delete this.items[e]},migrate:function(e){for(var t in this.items)e.setItem(t,this.items[t]);return e}},d=t.storage={driver:p}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={registerComponent:function(e,t){"customElements"in window?customElements.define(e,t):i().then(function(){u(e,t)})},isCustomComponent:function(e){return e.nodeName.includes("-")}},o=n,u=function(e,t){return o.registerComponent(e,t)},i=(t.setImplementation=function(e){o=e},function(){return Promise.resolve()});t.componentsReady=function(){return i()},t.setReadyCheck=function(e){i=e};t.default=u;t.isCustomComponent=function(e){return o.isCustomComponent(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={reducers:{},subscriptions:{},addReducer:function(e,t){this.reducers[e]=t},removeReducer:function(e){return delete this.reducers[e],!1},subscribe:function(e,t){var r=this;return this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(t),{unsubscribe:function(){r.subscriptions[e]=r.subscriptions[e].filter(function(e){return e!==t})}}},getState:function(e){},migrate:function(e){for(var t in this.reducers){var r=this.reducers[t];e.addReducer(t,r)}for(var n in this.subscriptions){var o=!0,u=!1,i=void 0;try{for(var c,a=this.subscriptions[n][Symbol.iterator]();!(o=(c=a.next()).done);o=!0){var s=c.value;e.subscribe(n,s)}}catch(e){u=!0,i=e}finally{try{!o&&a.return&&a.return()}finally{if(u)throw i}}}return e}},o={currentImplementation:n};t.setImplementation=function(e){o.currentImplementation=o.currentImplementation.migrate(e)},t.registerReducer=function(e,t){o.currentImplementation.addReducer(e,t)},t.removeReducer=function(e){o.currentImplementation.removeReducer(e)},t.subscribe=function(e,t){return o.currentImplementation.subscribe(e,t)},t.getState=function(e){return o.currentImplementation.getState(e)}},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e){return e.split("-").reduce(function(e,t){return t?e+t[0].toUpperCase()+t.slice(1):e})}function u(e){for(var t="",r=0;r<e.length;r++)e[r]===e[r].toUpperCase()?t+="-"+e[r].toLowerCase():t+=e[r];return t}function i(e){var t={},r=!0,n=!1,u=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var a=i.value;t[o(a.name)]=a.value}}catch(e){n=!0,u=e}finally{try{!r&&c.return&&c.return()}finally{if(n)throw u}}return t}function c(e){return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return r.length>=e.length?e.apply(null,r):c(e.bind.apply(e,[null].concat(n(r))))}}function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t=t.reverse(),function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.reduce(function(e,t){return Array.isArray(e)?t.apply(null,e):t(e)},r)}}function s(e){return!Boolean(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.tagNameToProp=o,t.propNameToTag=u,t.parseAttributes=i,t.curry=c,t.compose=a,t.not=s},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1);Object.defineProperty(t,"changeWebComponentsImplemenation",{enumerable:!0,get:function(){return o.setImplementation}}),Object.defineProperty(t,"componentsReady",{enumerable:!0,get:function(){return o.componentsReady}}),Object.defineProperty(t,"changeWebComponentsReadyCheck",{enumerable:!0,get:function(){return o.setReadyCheck}}),Object.defineProperty(t,"registerComponent",{enumerable:!0,get:function(){return n(o).default}});var u=r(2);Object.defineProperty(t,"changeStoreImplementation",{enumerable:!0,get:function(){return u.setImplementation}}),Object.defineProperty(t,"registerReducer",{enumerable:!0,get:function(){return u.registerReducer}}),Object.defineProperty(t,"removeReducer",{enumerable:!0,get:function(){return u.removeReducer}}),Object.defineProperty(t,"subscribe",{enumerable:!0,get:function(){return u.subscribe}}),Object.defineProperty(t,"getState",{enumerable:!0,get:function(){return u.getState}});var i=r(5);Object.defineProperty(t,"css",{enumerable:!0,get:function(){return i.css}});var c=r(0);Object.defineProperty(t,"getStorage",{enumerable:!0,get:function(){return c.getStorage}}),Object.defineProperty(t,"addStorage",{enumerable:!0,get:function(){return c.addStorage}}),Object.defineProperty(t,"removeStorage",{enumerable:!0,get:function(){return c.removeStorage}}),Object.defineProperty(t,"setStorageDriver",{enumerable:!0,get:function(){return c.setStorageDriver}});var a=r(6);Object.defineProperty(t,"bind",{enumerable:!0,get:function(){return a.bind}});var s=r(3);Object.defineProperty(t,"matchTagArg",{enumerable:!0,get:function(){return s.matchTagArg}}),Object.defineProperty(t,"replaceTagArg",{enumerable:!0,get:function(){return s.replaceTagArg}});var f=r(11);Object.defineProperty(t,"Component",{enumerable:!0,get:function(){return n(f).default}}),Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return f.connect}}),Object.defineProperty(t,"define",{enumerable:!0,get:function(){return f.define}}),Object.defineProperty(t,"props",{enumerable:!0,get:function(){return f.props}})},function(e,t,r){"use strict";function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!r.length)return e[0];for(var o="",u=0;u<e.length;u++)o+=e[u],u<e.length-1&&(Array.isArray(r[u])?o+=r[u].join(""):o+=r[u]);return o}function o(e){for(var t="",r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];for(var u=0;u<e.length;u++)t+=e[u],u<e.length-1&&("function"==typeof n[u]?t+=n[u]():t+=n[u]);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.html=n,t.css=o},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){var r=(0,i.getStorage)(c);if(r.size===a){var n=r.keys();r.delete(n.next().value)}r.set(e,t)}function u(e){for(var t=(0,i.getStorage)(c),r=t.get(e),u=arguments.length,a=Array(u>1?u-1:0),s=1;s<u;s++)a[s-1]=arguments[s];var f=a[0],l=e.bind.apply(e,[null].concat(n(a)));if(r)return r.get(f)?r.get(f):(r.set(f,l),l);var p=new Map;return p.set(f,l),o(e,p),l}Object.defineProperty(t,"__esModule",{value:!0}),t.bind=u;var i=r(0),c="BOUNDS",a=100;(0,i.addStorage)(c,new Map)},,function(e,t,r){"use strict";function n(){this.beforeRender(),this.isShadow&&!this.shadowRoot&&this.attachShadow({mode:"open"}),this.root||(this.root=document.createElement("div"),this.root.style.display="contents",this.isShadow?(this.shadowRoot.innerHTML="<style>"+this.styles+"</style>",this.shadowRoot.appendChild(this.root)):(this.styles&&(this.innerHTML="<style>"+this.styles+"</style>"),this.appendChild(this.root)));var e=this.render();e&&this.insertContent(this.root,e),this.mounted=!0,this.afterRender()}Object.defineProperty(t,"__esModule",{value:!0}),t.render=n},,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return function(t){return function(t){function r(){return u(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return c(r,t),d(r,[{key:"keys",get:function(){return[e]}}]),r}(t)}}function s(e){return function(t){return(0,b.default)(e,t),t}}function f(e){var t=C++;return _.set(t,e),o({toString:function(){return k+'="'+t+'"'}},k,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.connect=a,t.define=s,t.props=f;var y=r(1),b=n(y),m=r(2),h=r(8),g=r(0),v=r(3),O=r(5),P=r(12),j=n(P),S=function(e){var t=e.getPrototypeOf||function(e){return e.__proto__},r=e.setPrototypeOf||function(e,t){return e.__proto__=t,e},n="object"===("undefined"==typeof Reflect?"undefined":l(Reflect))?Reflect.construct:function(e,t,n){var o,u=[null];return u.push.apply(u,t),o=e.bind.apply(e,u),r(new o,n.prototype)};return function(e){var o=t(e);return r(e,r(function(){return n(o,arguments,t(this).constructor)},o))}}(Object),_=(0,g.getStorage)(g.storageKeys.PROPS),k="props-id",w=S(function(e){function t(){var e,r,n,o;u(this,t);for(var c=arguments.length,a=Array(c),s=0;s<c;s++)a[s]=arguments[s];return r=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.__defaultProps={},n.subscriptions=[],n.state={},n.mounted=!1,n.css=O.css,n.shouldComponentUpdate=(0,v.compose)(v.not,j.default),o=r,i(n,o)}return c(t,e),d(t,[{key:"beforeRender",value:function(){}},{key:"render",value:function(){return""}},{key:"insertContent",value:function(e,t){if("string"!=typeof t)throw new Error("default renderer can handle only strings");e.innerHTML=t}},{key:"afterRender",value:function(){}},{key:"subscribeToStore",value:function(){var e=this,t=!0,r=!1,n=void 0;try{for(var o,u=this.keys[Symbol.iterator]();!(t=(o=u.next()).done);t=!0){var i=o.value;this.subscriptions.push((0,m.subscribe)(i,function(t){e.state=t,h.render.call(e)})),this.state=(0,m.getState)(i)}}catch(e){r=!0,n=e}finally{try{!t&&u.return&&u.return()}finally{if(r)throw n}}}},{key:"connectedCallback",value:function(){this.subscribeToStore(),h.render.call(this),this.connected()}},{key:"connected",value:function(){}},{key:"disconnectedCallback",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,o=this.subscriptions[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){n.value.unsubscribe()}}catch(e){t=!0,r=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw r}}this.disconnected()}},{key:"disconnected",value:function(){}},{key:"adoptedCallback",value:function(){this.subscribeToStore(),h.render.call(this),this.adopted()}},{key:"adopted",value:function(){}},{key:"attributeChangedCallback",value:function(e,t,r){if(this.mounted&&t!==r)if(this.propsChanged(p({},this.props,o({},e,r))),e===k){var n=_.get(Number(t)),u=_.get(Number(r));this.shouldComponentUpdate(n,u)&&(_.delete(t),h.render.call(this))}else h.render.call(this)}},{key:"propsChanged",value:function(e){}},{key:"name",get:function(){return Object.getPrototypeOf(this).constructor.name}},{key:"isShadow",get:function(){return!0}},{key:"props",get:function(){var e=(0,v.parseAttributes)(this.attributes),t=Number(e.propsId);return p({},this.__defaultProps,e,_.get(t)||{})},set:function(e){this.__defaultProps=e}},{key:"keys",get:function(){return[]}},{key:"styles",get:function(){return""}},{key:"html",get:function(){return O.html}}],[{key:"observedAttributes",get:function(){return this.observableProps.map(v.propNameToTag).concat(k)}},{key:"observableProps",get:function(){return[]}}]),t}(HTMLElement));t.default=w;var C=0},function(e,t,r){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function o(e,t){if(n(e,t))return!0;if("object"!==(void 0===e?"undefined":u(e))||null===e||"object"!==(void 0===t?"undefined":u(t))||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var c=0;c<r.length;c++)if(!i.call(t,r[c])||!n(e[r[c]],t[r[c]]))return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.prototype.hasOwnProperty;t.default=o}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbWFpbi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZjFmNGQ3NWMzZjNjNTRjMWFlMTQiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYi1jb21wb25lbnRzLmpzIiwid2VicGFjazovLy8uL3NyYy9zdG9yZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy90YWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JpbmQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9zaGFsbG93LWVxdWFscy5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJpIiwibCIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX2RlZmluZVByb3BlcnR5Iiwib2JqIiwia2V5IiwidmFsdWUiLCJ3cml0YWJsZSIsInNldFN0b3JhZ2VEcml2ZXIiLCJkcml2ZXIiLCJzdG9yYWdlIiwibWlncmF0ZSIsImdldFN0b3JhZ2UiLCJnZXRJdGVtIiwiYWRkU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVTdG9yYWdlIiwicmVtb3ZlSXRlbSIsIl9PYmplY3QkY3JlYXRlIiwicHJvcHNNYXAiLCJNYXAiLCJldmVudHNNYXAiLCJzdG9yYWdlS2V5cyIsIlBST1BTIiwiRVZFTlRTIiwiaXRlbXMiLCJjcmVhdGUiLCJ0aGlzIiwiZGVmYXVsdEltcGxlbWVudGF0aW9uIiwicmVnaXN0ZXJDb21wb25lbnQiLCJjb21wb25lbnQiLCJ3aW5kb3ciLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSIsImN1cnJlbnRSZWFkeUNoZWNrIiwidGhlbiIsImlzQ3VzdG9tQ29tcG9uZW50Iiwibm9kZSIsIm5vZGVOYW1lIiwiaW5jbHVkZXMiLCJjdXJyZW50SW1wbGVtZW50YXRpb24iLCJzZXRJbXBsZW1lbnRhdGlvbiIsImltcGxlbWVudGF0aW9uIiwiUHJvbWlzZSIsInJlc29sdmUiLCJjb21wb25lbnRzUmVhZHkiLCJzZXRSZWFkeUNoZWNrIiwicmVhZHlDaGVjayIsImRlZmF1bHQiLCJzdHViSW1wbGVtZW50YXRpb24iLCJyZWR1Y2VycyIsInN1YnNjcmlwdGlvbnMiLCJhZGRSZWR1Y2VyIiwicmVkdWNlciIsInJlbW92ZVJlZHVjZXIiLCJzdWJzY3JpYmUiLCJjYiIsIl90aGlzIiwicHVzaCIsInVuc3Vic2NyaWJlIiwiZmlsdGVyIiwiZWwiLCJnZXRTdGF0ZSIsIm5ld1N0b3JlIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJ1bmRlZmluZWQiLCJfc3RlcCIsIl9pdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJzdWJzY3JpcHRpb24iLCJlcnIiLCJyZXR1cm4iLCJzdG9yZSIsInJlZ2lzdGVyUmVkdWNlciIsIl90b0NvbnN1bWFibGVBcnJheSIsImFyciIsIkFycmF5IiwiaXNBcnJheSIsImFycjIiLCJsZW5ndGgiLCJmcm9tIiwidGFnTmFtZVRvUHJvcCIsInNwbGl0IiwicmVkdWNlIiwiYWNjIiwidG9VcHBlckNhc2UiLCJzbGljZSIsInByb3BOYW1lVG9UYWciLCJwcm9wIiwicmVzIiwidG9Mb3dlckNhc2UiLCJwYXJzZUF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwicmVzdWx0IiwiYXR0cmlidXRlIiwiY3VycnkiLCJmbiIsIl9sZW4iLCJhcmd1bWVudHMiLCJhcmdzIiwiX2tleSIsImFwcGx5IiwiYmluZCIsImNvbmNhdCIsImNvbXBvc2UiLCJfbGVuMiIsImZucyIsIl9rZXkyIiwicmV2ZXJzZSIsIl9sZW4zIiwiX2tleTMiLCJub3QiLCJCb29sZWFuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl93ZWJDb21wb25lbnRzIiwiX3N0b3JlIiwiX3RhZyIsImNzcyIsIl9zdG9yYWdlIiwiX2JpbmQiLCJfdXRpbHMiLCJtYXRjaFRhZ0FyZyIsInJlcGxhY2VUYWdBcmciLCJfY29tcG9uZW50IiwiY29ubmVjdCIsInByb3BzIiwiaHRtbCIsInN0cmluZ3MiLCJ0cGwiLCJqb2luIiwiYXBwZW5kVG9TdG9yYWdlIiwiS0VZIiwic2l6ZSIsIk1BWF9TVE9SQUdFX1NJWkUiLCJrZXlzIiwiZGVsZXRlIiwic2V0IiwiYm91bmQiLCJmaXJzdEFyZyIsImJvdW5kRm4iLCJmbk1hcCIsInJlbmRlciIsImJlZm9yZVJlbmRlciIsImlzU2hhZG93Iiwic2hhZG93Um9vdCIsImF0dGFjaFNoYWRvdyIsIm1vZGUiLCJyb290IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJkaXNwbGF5IiwiaW5uZXJIVE1MIiwic3R5bGVzIiwiYXBwZW5kQ2hpbGQiLCJyZW5kZXJSZXMiLCJpbnNlcnRDb250ZW50IiwibW91bnRlZCIsImFmdGVyUmVuZGVyIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY29uc3RydWN0b3IiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIldyYXBwZWQiLCJfV3JhcHBlZCIsIl9jbGFzczIiLCJnZXRQcm90b3R5cGVPZiIsIl9jcmVhdGVDbGFzcyIsIl93ZWJDb21wb25lbnRzMiIsImlkIiwicHJvcHNJZCIsInByb3BzU3RvcmFnZSIsInRvU3RyaW5nIiwiUFJPUFNfSUQiLCJfdHlwZW9mIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJzb3VyY2UiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9yZW5kZXIiLCJfc2hhbGxvd0VxdWFscyIsIl9zaGFsbG93RXF1YWxzMiIsIl9maXhCYWJlbEV4dGVuZCIsIk8iLCJnUE8iLCJzUE8iLCJjb25zdHJ1Y3QiLCJSZWZsZWN0IiwiUGFyZW50IiwiQ2xhc3MiLCJhIiwiQ29tcG9uZW50IiwiX0hUTUxFbGVtZW50IiwiX3JlZiIsIl90ZW1wIiwiX3JldCIsIl9fZGVmYXVsdFByb3BzIiwic3RhdGUiLCJzaG91bGRDb21wb25lbnRVcGRhdGUiLCJzaGFsbG93RXF1YWwiLCJjb250ZW50IiwiRXJyb3IiLCJfdGhpczIiLCJzdWJzY3JpYmVUb1N0b3JlIiwiY29ubmVjdGVkIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIiLCJfZGlkSXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3JFcnJvcjIiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwiZGlzY29ubmVjdGVkIiwiYWRvcHRlZCIsImF0dHJpYnV0ZU5hbWUiLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwicHJvcHNDaGFuZ2VkIiwib2xkUHJvcHMiLCJOdW1iZXIiLCJuZXdQcm9wcyIsIm9ic2VydmFibGVQcm9wcyIsIm1hcCIsIkhUTUxFbGVtZW50IiwiaXMiLCJ4IiwieSIsIm9iakEiLCJvYmpCIiwia2V5c0EiLCJrZXlzQiJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQU9DLFFBQ0UsU0FBVUMsR0NHbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFILE9BR0EsSUFBQUQsR0FBQUssRUFBQUQsSUFDQUUsRUFB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QUFpQixJQUFOQyxHQUFXLEVBQUlELEdBQU0sRUFBSUMsRUFHcENELElBQU1BLEdBQUtDLElBQU1BLEVBU2hDLFFBQVN6QixHQUFhMEIsRUFBYUMsR0FDL0IsR0FBSUosRUFBR0csRUFBTUMsR0FDVCxPQUFPLENBR1gsSUFDb0IsZ0JBQWhCLEtBQU9ELEVBQVAsWUFBQXZELEVBQU91RCxLQUNFLE9BQVRBLEdBQ2dCLGdCQUFoQixLQUFPQyxFQUFQLFlBQUF4RCxFQUFPd0QsS0FDRSxPQUFUQSxFQUVBLE9BQU8sQ0FHWCxJQUFNQyxHQUFRL1AsT0FBT3FKLEtBQUt3RyxHQUNwQkcsRUFBUWhRLE9BQU9xSixLQUFLeUcsRUFFMUIsSUFBSUMsRUFBTWpLLFNBQVdrSyxFQUFNbEssT0FDdkIsT0FBTyxDQUlYLEtBQUssR0FBSXZHLEdBQUksRUFBR0EsRUFBSXdRLEVBQU1qSyxPQUFRdkcsSUFDOUIsSUFDS21CLEVBQWVqQixLQUFLcVEsRUFBTUMsRUFBTXhRLE1BQ2hDbVEsRUFBR0csRUFBS0UsRUFBTXhRLElBQUt1USxFQUFLQyxFQUFNeFEsS0FFL0IsT0FBTyxDQUlmLFFBQU8sRVhtOEJYUyxPQUFPQyxlQUFlZixFQUFTLGNBQzNCOEIsT0FBTyxHQUdYLElBQUlzTCxHQUE0QixrQkFBWHRILFNBQW9ELGdCQUFwQkEsUUFBT0MsU0FBd0IsU0FBVW5FLEdBQU8sYUFBY0EsSUFBUyxTQUFVQSxHQUFPLE1BQU9BLElBQXlCLGtCQUFYa0UsU0FBeUJsRSxFQUFJMEssY0FBZ0J4RyxRQUFVbEUsSUFBUWtFLE9BQU92RSxVQUFZLGVBQWtCSyxJVzkvQmhRSixFQUFpQlYsT0FBT1MsVUFBVUMsY1hrakN4Q3hCLEdBQVF3RSxRV3gvQk95SyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPVxuLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDQpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfT2JqZWN0JGNyZWF0ZTtcblxuZXhwb3J0cy5zZXRTdG9yYWdlRHJpdmVyID0gc2V0U3RvcmFnZURyaXZlcjtcbmV4cG9ydHMuZ2V0U3RvcmFnZSA9IGdldFN0b3JhZ2U7XG5leHBvcnRzLmFkZFN0b3JhZ2UgPSBhZGRTdG9yYWdlO1xuZXhwb3J0cy5yZW1vdmVTdG9yYWdlID0gcmVtb3ZlU3RvcmFnZTtcblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxudmFyIHByb3BzTWFwID0gbmV3IE1hcCgpO1xuXG52YXIgZXZlbnRzTWFwID0gbmV3IE1hcCgpO1xuXG52YXIgc3RvcmFnZUtleXMgPSBleHBvcnRzLnN0b3JhZ2VLZXlzID0ge1xuICAgIFBST1BTOiBcInByb3BzXCIsXG4gICAgRVZFTlRTOiBcImV2ZW50c1wiXG59O1xuXG52YXIgZHJpdmVyID0ge1xuICAgIGl0ZW1zOiBPYmplY3QuY3JlYXRlKChfT2JqZWN0JGNyZWF0ZSA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX09iamVjdCRjcmVhdGUsIHN0b3JhZ2VLZXlzLlBST1BTLCBwcm9wc01hcCksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwgc3RvcmFnZUtleXMuRVZFTlRTLCBldmVudHNNYXApLCBfT2JqZWN0JGNyZWF0ZSkpLFxuICAgIHNldEl0ZW06IGZ1bmN0aW9uIHNldEl0ZW0oa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLml0ZW1zW2tleV0gPSB2YWx1ZTtcbiAgICB9LFxuICAgIGdldEl0ZW06IGZ1bmN0aW9uIGdldEl0ZW0oa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zW2tleV07XG4gICAgfSxcbiAgICByZW1vdmVJdGVtOiBmdW5jdGlvbiByZW1vdmVJdGVtKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5pdGVtc1trZXldO1xuICAgIH0sXG4gICAgbWlncmF0ZTogZnVuY3Rpb24gbWlncmF0ZShkcml2ZXIpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuaXRlbXMpIHtcbiAgICAgICAgICAgIGRyaXZlci5zZXRJdGVtKGtleSwgdGhpcy5pdGVtc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZHJpdmVyO1xuICAgIH1cbn07XG5cbnZhciBzdG9yYWdlID0gZXhwb3J0cy5zdG9yYWdlID0ge1xuICAgIGRyaXZlcjogZHJpdmVyXG59O1xuXG5mdW5jdGlvbiBzZXRTdG9yYWdlRHJpdmVyKGRyaXZlcikge1xuICAgIHN0b3JhZ2UuZHJpdmVyID0gc3RvcmFnZS5kcml2ZXIubWlncmF0ZShkcml2ZXIpO1xufVxuXG5mdW5jdGlvbiBnZXRTdG9yYWdlKGtleSkge1xuICAgIHJldHVybiBzdG9yYWdlLmRyaXZlci5nZXRJdGVtKGtleSk7XG59XG5cbmZ1bmN0aW9uIGFkZFN0b3JhZ2Uoa2V5LCB2YWx1ZSkge1xuICAgIHN0b3JhZ2UuZHJpdmVyLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0b3JhZ2Uoa2V5KSB7XG4gICAgc3RvcmFnZS5kcml2ZXIucmVtb3ZlSXRlbShrZXkpO1xufVxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG5cbnZhciBkZWZhdWx0SW1wbGVtZW50YXRpb24gPSB7XG4gICAgcmVnaXN0ZXJDb21wb25lbnQ6IGZ1bmN0aW9uIHJlZ2lzdGVyQ29tcG9uZW50KG5hbWUsIGNvbXBvbmVudCkge1xuICAgICAgICBpZiAoJ2N1c3RvbUVsZW1lbnRzJyBpbiB3aW5kb3cpIHtcbiAgICAgICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZShuYW1lLCBjb21wb25lbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudFJlYWR5Q2hlY2soKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfcmVnaXN0ZXJDb21wb25lbnQobmFtZSwgY29tcG9uZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBpc0N1c3RvbUNvbXBvbmVudDogZnVuY3Rpb24gaXNDdXN0b21Db21wb25lbnQobm9kZSkge1xuICAgICAgICByZXR1cm4gbm9kZS5ub2RlTmFtZS5pbmNsdWRlcyhcIi1cIik7XG4gICAgfVxufTtcblxudmFyIGN1cnJlbnRJbXBsZW1lbnRhdGlvbiA9IGRlZmF1bHRJbXBsZW1lbnRhdGlvbjtcblxudmFyIF9yZWdpc3RlckNvbXBvbmVudCA9IGZ1bmN0aW9uIF9yZWdpc3RlckNvbXBvbmVudChuYW1lLCBjb21wb25lbnQpIHtcbiAgICByZXR1cm4gY3VycmVudEltcGxlbWVudGF0aW9uLnJlZ2lzdGVyQ29tcG9uZW50KG5hbWUsIGNvbXBvbmVudCk7XG59O1xuXG52YXIgc2V0SW1wbGVtZW50YXRpb24gPSBleHBvcnRzLnNldEltcGxlbWVudGF0aW9uID0gZnVuY3Rpb24gc2V0SW1wbGVtZW50YXRpb24oaW1wbGVtZW50YXRpb24pIHtcbiAgICBjdXJyZW50SW1wbGVtZW50YXRpb24gPSBpbXBsZW1lbnRhdGlvbjtcbn07XG5cbnZhciBjdXJyZW50UmVhZHlDaGVjayA9IGZ1bmN0aW9uIGN1cnJlbnRSZWFkeUNoZWNrKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn07XG5cbnZhciBjb21wb25lbnRzUmVhZHkgPSBleHBvcnRzLmNvbXBvbmVudHNSZWFkeSA9IGZ1bmN0aW9uIGNvbXBvbmVudHNSZWFkeSgpIHtcbiAgICByZXR1cm4gY3VycmVudFJlYWR5Q2hlY2soKTtcbn07XG5cbnZhciBzZXRSZWFkeUNoZWNrID0gZXhwb3J0cy5zZXRSZWFkeUNoZWNrID0gZnVuY3Rpb24gc2V0UmVhZHlDaGVjayhyZWFkeUNoZWNrKSB7XG4gICAgY3VycmVudFJlYWR5Q2hlY2sgPSByZWFkeUNoZWNrO1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX3JlZ2lzdGVyQ29tcG9uZW50O1xudmFyIGlzQ3VzdG9tQ29tcG9uZW50ID0gZXhwb3J0cy5pc0N1c3RvbUNvbXBvbmVudCA9IGZ1bmN0aW9uIGlzQ3VzdG9tQ29tcG9uZW50KG5vZGUpIHtcbiAgICByZXR1cm4gY3VycmVudEltcGxlbWVudGF0aW9uLmlzQ3VzdG9tQ29tcG9uZW50KG5vZGUpO1xufTtcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuXG52YXIgc3R1YkltcGxlbWVudGF0aW9uID0ge1xuICAgIHJlZHVjZXJzOiB7fSxcbiAgICBzdWJzY3JpcHRpb25zOiB7fSxcbiAgICBhZGRSZWR1Y2VyOiBmdW5jdGlvbiBhZGRSZWR1Y2VyKGtleSwgcmVkdWNlcikge1xuICAgICAgICB0aGlzLnJlZHVjZXJzW2tleV0gPSByZWR1Y2VyO1xuICAgIH0sXG4gICAgcmVtb3ZlUmVkdWNlcjogZnVuY3Rpb24gcmVtb3ZlUmVkdWNlcihrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMucmVkdWNlcnNba2V5XTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUoa2V5LCBjYikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIGlmICghdGhpcy5zdWJzY3JpcHRpb25zW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uc1trZXldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zW2tleV0ucHVzaChjYik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3Vic2NyaXB0aW9uc1trZXldID0gX3RoaXMuc3Vic2NyaXB0aW9uc1trZXldLmZpbHRlcihmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsICE9PSBjYjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGdldFN0YXRlOiBmdW5jdGlvbiBnZXRTdGF0ZShrZXkpIHt9LFxuICAgIG1pZ3JhdGU6IGZ1bmN0aW9uIG1pZ3JhdGUobmV3U3RvcmUpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMucmVkdWNlcnMpIHtcbiAgICAgICAgICAgIHZhciByZWR1Y2VyID0gdGhpcy5yZWR1Y2Vyc1trZXldO1xuICAgICAgICAgICAgbmV3U3RvcmUuYWRkUmVkdWNlcihrZXksIHJlZHVjZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIF9rZXkgaW4gdGhpcy5zdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB0aGlzLnN1YnNjcmlwdGlvbnNbX2tleV1bU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICBuZXdTdG9yZS5zdWJzY3JpYmUoX2tleSwgc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdTdG9yZTtcbiAgICB9XG59O1xuXG52YXIgc3RvcmUgPSB7XG4gICAgY3VycmVudEltcGxlbWVudGF0aW9uOiBzdHViSW1wbGVtZW50YXRpb25cbn07XG5cbnZhciBzZXRJbXBsZW1lbnRhdGlvbiA9IGV4cG9ydHMuc2V0SW1wbGVtZW50YXRpb24gPSBmdW5jdGlvbiBzZXRJbXBsZW1lbnRhdGlvbihpbXBsZW1lbnRhdGlvbikge1xuICAgIHN0b3JlLmN1cnJlbnRJbXBsZW1lbnRhdGlvbiA9IHN0b3JlLmN1cnJlbnRJbXBsZW1lbnRhdGlvbi5taWdyYXRlKGltcGxlbWVudGF0aW9uKTtcbn07XG5cbnZhciByZWdpc3RlclJlZHVjZXIgPSBleHBvcnRzLnJlZ2lzdGVyUmVkdWNlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyUmVkdWNlcihrZXksIHJlZHVjZXIpIHtcbiAgICBzdG9yZS5jdXJyZW50SW1wbGVtZW50YXRpb24uYWRkUmVkdWNlcihrZXksIHJlZHVjZXIpO1xufTtcbnZhciByZW1vdmVSZWR1Y2VyID0gZXhwb3J0cy5yZW1vdmVSZWR1Y2VyID0gZnVuY3Rpb24gcmVtb3ZlUmVkdWNlcihrZXkpIHtcbiAgICBzdG9yZS5jdXJyZW50SW1wbGVtZW50YXRpb24ucmVtb3ZlUmVkdWNlcihrZXkpO1xufTtcbnZhciBzdWJzY3JpYmUgPSBleHBvcnRzLnN1YnNjcmliZSA9IGZ1bmN0aW9uIHN1YnNjcmliZShrZXksIGNiKSB7XG4gICAgcmV0dXJuIHN0b3JlLmN1cnJlbnRJbXBsZW1lbnRhdGlvbi5zdWJzY3JpYmUoa2V5LCBjYik7XG59O1xudmFyIGdldFN0YXRlID0gZXhwb3J0cy5nZXRTdGF0ZSA9IGZ1bmN0aW9uIGdldFN0YXRlKGtleSkge1xuICAgIHJldHVybiBzdG9yZS5jdXJyZW50SW1wbGVtZW50YXRpb24uZ2V0U3RhdGUoa2V5KTtcbn07XG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnRhZ05hbWVUb1Byb3AgPSB0YWdOYW1lVG9Qcm9wO1xuZXhwb3J0cy5wcm9wTmFtZVRvVGFnID0gcHJvcE5hbWVUb1RhZztcbmV4cG9ydHMucGFyc2VBdHRyaWJ1dGVzID0gcGFyc2VBdHRyaWJ1dGVzO1xuZXhwb3J0cy5jdXJyeSA9IGN1cnJ5O1xuZXhwb3J0cy5jb21wb3NlID0gY29tcG9zZTtcbmV4cG9ydHMubm90ID0gbm90O1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gdGFnTmFtZVRvUHJvcChub2RlTmFtZSkge1xuICAgIHJldHVybiBub2RlTmFtZS5zcGxpdChcIi1cIikucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG5leHQpIHtcbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgIHJldHVybiBhY2MgKyBuZXh0WzBdLnRvVXBwZXJDYXNlKCkgKyBuZXh0LnNsaWNlKDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHByb3BOYW1lVG9UYWcocHJvcCkge1xuICAgIHZhciByZXMgPSBcIlwiO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAocHJvcFtpXSA9PT0gcHJvcFtpXS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICAgICAgICByZXMgKz0gXCItXCIgKyBwcm9wW2ldLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMgKz0gcHJvcFtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBwYXJzZUF0dHJpYnV0ZXMoYXR0cmlidXRlcykge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gYXR0cmlidXRlc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgcmVzdWx0W3RhZ05hbWVUb1Byb3AoYXR0cmlidXRlLm5hbWUpXSA9IGF0dHJpYnV0ZS52YWx1ZTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gY3VycnkoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA+PSBmbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycnkoZm4uYmluZC5hcHBseShmbiwgW251bGxdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpKSk7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZucyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGZuc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIGZucyA9IGZucy5yZXZlcnNlKCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmbnMucmVkdWNlKGZ1bmN0aW9uIChyZXMsIGZuKSB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShyZXMpID8gZm4uYXBwbHkobnVsbCwgcmVzKSA6IGZuKHJlcyk7XG4gICAgICAgIH0sIGFyZ3MpO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIG5vdCh2YWx1ZSkge1xuICAgIHJldHVybiAhQm9vbGVhbih2YWx1ZSk7XG59XG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfd2ViQ29tcG9uZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNoYW5nZVdlYkNvbXBvbmVudHNJbXBsZW1lbmF0aW9uXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3dlYkNvbXBvbmVudHMuc2V0SW1wbGVtZW50YXRpb247XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb21wb25lbnRzUmVhZHlcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfd2ViQ29tcG9uZW50cy5jb21wb25lbnRzUmVhZHk7XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjaGFuZ2VXZWJDb21wb25lbnRzUmVhZHlDaGVja1wiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF93ZWJDb21wb25lbnRzLnNldFJlYWR5Q2hlY2s7XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZWdpc3RlckNvbXBvbmVudFwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dlYkNvbXBvbmVudHMpLmRlZmF1bHQ7XG4gICAgfVxufSk7XG5cbnZhciBfc3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjaGFuZ2VTdG9yZUltcGxlbWVudGF0aW9uXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3N0b3JlLnNldEltcGxlbWVudGF0aW9uO1xuICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicmVnaXN0ZXJSZWR1Y2VyXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3N0b3JlLnJlZ2lzdGVyUmVkdWNlcjtcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlbW92ZVJlZHVjZXJcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfc3RvcmUucmVtb3ZlUmVkdWNlcjtcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInN1YnNjcmliZVwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdG9yZS5zdWJzY3JpYmU7XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJnZXRTdGF0ZVwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdG9yZS5nZXRTdGF0ZTtcbiAgICB9XG59KTtcblxudmFyIF90YWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjc3NcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfdGFnLmNzcztcbiAgICB9XG59KTtcblxudmFyIF9zdG9yYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ2V0U3RvcmFnZVwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdG9yYWdlLmdldFN0b3JhZ2U7XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJhZGRTdG9yYWdlXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3N0b3JhZ2UuYWRkU3RvcmFnZTtcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlbW92ZVN0b3JhZ2VcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfc3RvcmFnZS5yZW1vdmVTdG9yYWdlO1xuICAgIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic2V0U3RvcmFnZURyaXZlclwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdG9yYWdlLnNldFN0b3JhZ2VEcml2ZXI7XG4gICAgfVxufSk7XG5cbnZhciBfYmluZCA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImJpbmRcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfYmluZC5iaW5kO1xuICAgIH1cbn0pO1xuXG52YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWF0Y2hUYWdBcmdcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfdXRpbHMubWF0Y2hUYWdBcmc7XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZXBsYWNlVGFnQXJnXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3V0aWxzLnJlcGxhY2VUYWdBcmc7XG4gICAgfVxufSk7XG5cbnZhciBfY29tcG9uZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNvbXBvbmVudFwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvbmVudCkuZGVmYXVsdDtcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNvbm5lY3RcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfY29tcG9uZW50LmNvbm5lY3Q7XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJkZWZpbmVcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfY29tcG9uZW50LmRlZmluZTtcbiAgICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInByb3BzXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2NvbXBvbmVudC5wcm9wcztcbiAgICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuaHRtbCA9IGh0bWw7XG5leHBvcnRzLmNzcyA9IGNzcztcbmZ1bmN0aW9uIGh0bWwoc3RyaW5ncykge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBpZiAoIWFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmdzWzBdO1xuICAgIH1cblxuICAgIHZhciB0cGwgPSBcIlwiO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0cGwgKz0gc3RyaW5nc1tpXTtcbiAgICAgICAgaWYgKGkgPCBzdHJpbmdzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFyZ3NbaV0pKSB7XG4gICAgICAgICAgICAgICAgdHBsICs9IGFyZ3NbaV0uam9pbihcIlwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHBsICs9IGFyZ3NbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRwbDtcbn1cblxuZnVuY3Rpb24gY3NzKHN0cmluZ3MpIHtcbiAgICB2YXIgcmVzdWx0ID0gJyc7XG5cbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCArPSBzdHJpbmdzW2ldO1xuICAgICAgICBpZiAoaSA8IHN0cmluZ3MubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzW2ldID09PSBcImZ1bmN0aW9uXCIpIHJlc3VsdCArPSBhcmdzW2ldKCk7ZWxzZSByZXN1bHQgKz0gYXJnc1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5iaW5kID0gYmluZDtcblxudmFyIF9zdG9yYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbnZhciBLRVkgPSBcIkJPVU5EU1wiO1xudmFyIE1BWF9TVE9SQUdFX1NJWkUgPSAxMDA7XG5cbigwLCBfc3RvcmFnZS5hZGRTdG9yYWdlKShLRVksIG5ldyBNYXAoKSk7XG5cbmZ1bmN0aW9uIGFwcGVuZFRvU3RvcmFnZShmbiwgdmFsdWUpIHtcbiAgICB2YXIgc3RvcmFnZSA9ICgwLCBfc3RvcmFnZS5nZXRTdG9yYWdlKShLRVkpO1xuICAgIGlmIChzdG9yYWdlLnNpemUgPT09IE1BWF9TVE9SQUdFX1NJWkUpIHtcbiAgICAgICAgdmFyIGtleXMgPSBzdG9yYWdlLmtleXMoKTtcbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICBzdG9yYWdlLmRlbGV0ZShrZXlzLm5leHQoKS52YWx1ZSk7XG4gICAgfVxuICAgIHN0b3JhZ2Uuc2V0KGZuLCB2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGJpbmQoZm4pIHtcbiAgICB2YXIgc3RvcmFnZSA9ICgwLCBfc3RvcmFnZS5nZXRTdG9yYWdlKShLRVkpO1xuICAgIHZhciBib3VuZCA9IHN0b3JhZ2UuZ2V0KGZuKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgZmlyc3RBcmcgPSBhcmdzWzBdO1xuICAgIHZhciBib3VuZEZuID0gZm4uYmluZC5hcHBseShmbiwgW251bGxdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpKTtcbiAgICBpZiAoYm91bmQpIHtcbiAgICAgICAgaWYgKCFib3VuZC5nZXQoZmlyc3RBcmcpKSB7XG4gICAgICAgICAgICBib3VuZC5zZXQoZmlyc3RBcmcsIGJvdW5kRm4pO1xuICAgICAgICAgICAgcmV0dXJuIGJvdW5kRm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICByZXR1cm4gYm91bmQuZ2V0KGZpcnN0QXJnKTtcbiAgICB9XG5cbiAgICB2YXIgZm5NYXAgPSBuZXcgTWFwKCk7XG4gICAgZm5NYXAuc2V0KGZpcnN0QXJnLCBib3VuZEZuKTtcbiAgICBhcHBlbmRUb1N0b3JhZ2UoZm4sIGZuTWFwKTtcbiAgICByZXR1cm4gYm91bmRGbjtcbn1cblxuLyoqKi8gfSksXG4vKiA3ICovLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnJlbmRlciA9IHJlbmRlcjtcbmZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB0aGlzLmJlZm9yZVJlbmRlcigpO1xuXG4gICAgaWYgKHRoaXMuaXNTaGFkb3cgJiYgIXRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucm9vdCkge1xuICAgICAgICB0aGlzLnJvb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnJvb3Quc3R5bGUuZGlzcGxheSA9ICdjb250ZW50cyc7XG4gICAgICAgIGlmICh0aGlzLmlzU2hhZG93KSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuaW5uZXJIVE1MID0gJzxzdHlsZT4nICsgdGhpcy5zdHlsZXMgKyAnPC9zdHlsZT4nO1xuICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKHRoaXMucm9vdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0eWxlcyAmJiAodGhpcy5pbm5lckhUTUwgPSAnPHN0eWxlPicgKyB0aGlzLnN0eWxlcyArICc8L3N0eWxlPicpO1xuICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZCh0aGlzLnJvb3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlbmRlclJlcyA9IHRoaXMucmVuZGVyKCk7XG4gICAgaWYgKHJlbmRlclJlcykge1xuICAgICAgICB0aGlzLmluc2VydENvbnRlbnQodGhpcy5yb290LCByZW5kZXJSZXMpO1xuICAgIH1cblxuICAgIHRoaXMubW91bnRlZCA9IHRydWU7XG5cbiAgICB0aGlzLmFmdGVyUmVuZGVyKCk7XG59XG5cbi8qKiovIH0pLFxuLyogOSAqLyxcbi8qIDEwICovLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdW5kZWZpbmVkO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmV4cG9ydHMuY29ubmVjdCA9IGNvbm5lY3Q7XG5leHBvcnRzLmRlZmluZSA9IGRlZmluZTtcbmV4cG9ydHMucHJvcHMgPSBwcm9wcztcblxudmFyIF93ZWJDb21wb25lbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF93ZWJDb21wb25lbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dlYkNvbXBvbmVudHMpO1xuXG52YXIgX3N0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9yZW5kZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG52YXIgX3N0b3JhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF90YWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX3NoYWxsb3dFcXVhbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblxudmFyIF9zaGFsbG93RXF1YWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NoYWxsb3dFcXVhbHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBfZml4QmFiZWxFeHRlbmQgPSBmdW5jdGlvbiAoTykge1xuICAgIHZhciBnUE8gPSBPLmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIHJldHVybiBvLl9fcHJvdG9fXztcbiAgICB9LFxuICAgICAgICBzUE8gPSBPLnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIChvLCBwKSB7XG4gICAgICAgIG8uX19wcm90b19fID0gcDtcbiAgICAgICAgcmV0dXJuIG87XG4gICAgfSxcbiAgICAgICAgY29uc3RydWN0ID0gKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoUmVmbGVjdCkpID09PSAnb2JqZWN0JyA/IFJlZmxlY3QuY29uc3RydWN0IDogZnVuY3Rpb24gKFBhcmVudCwgYXJncywgQ2xhc3MpIHtcbiAgICAgICAgdmFyIENvbnN0cnVjdG9yLFxuICAgICAgICAgICAgYSA9IFtudWxsXTtcbiAgICAgICAgYS5wdXNoLmFwcGx5KGEsIGFyZ3MpO1xuICAgICAgICBDb25zdHJ1Y3RvciA9IFBhcmVudC5iaW5kLmFwcGx5KFBhcmVudCwgYSk7XG4gICAgICAgIHJldHVybiBzUE8obmV3IENvbnN0cnVjdG9yKCksIENsYXNzLnByb3RvdHlwZSk7XG4gICAgfTtcblxuICAgIHJldHVybiBmdW5jdGlvbiBmaXhCYWJlbEV4dGVuZChDbGFzcykge1xuICAgICAgICB2YXIgUGFyZW50ID0gZ1BPKENsYXNzKTtcbiAgICAgICAgcmV0dXJuIHNQTyhDbGFzcywgc1BPKGZ1bmN0aW9uIFN1cGVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnN0cnVjdChQYXJlbnQsIGFyZ3VtZW50cywgZ1BPKHRoaXMpLmNvbnN0cnVjdG9yKTtcbiAgICAgICAgfSwgUGFyZW50KSk7XG4gICAgfTtcbn0oT2JqZWN0KTtcblxudmFyIHByb3BzU3RvcmFnZSA9ICgwLCBfc3RvcmFnZS5nZXRTdG9yYWdlKShfc3RvcmFnZS5zdG9yYWdlS2V5cy5QUk9QUyk7XG5cbnZhciBQUk9QU19JRCA9IFwicHJvcHMtaWRcIjtcblxudmFyIENvbXBvbmVudCA9IF9maXhCYWJlbEV4dGVuZChmdW5jdGlvbiAoX0hUTUxFbGVtZW50KSB7XG4gICAgX2luaGVyaXRzKENvbXBvbmVudCwgX0hUTUxFbGVtZW50KTtcblxuICAgIGZ1bmN0aW9uIENvbXBvbmVudCgpIHtcbiAgICAgICAgdmFyIF9yZWY7XG5cbiAgICAgICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29tcG9uZW50KTtcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9yZWYgPSBDb21wb25lbnQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDb21wb25lbnQpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5fX2RlZmF1bHRQcm9wcyA9IHt9LCBfdGhpcy5zdWJzY3JpcHRpb25zID0gW10sIF90aGlzLnN0YXRlID0ge30sIF90aGlzLm1vdW50ZWQgPSBmYWxzZSwgX3RoaXMuY3NzID0gX3RhZy5jc3MsIF90aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9ICgwLCBfdXRpbHMuY29tcG9zZSkoX3V0aWxzLm5vdCwgX3NoYWxsb3dFcXVhbHMyLmRlZmF1bHQpLCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ29tcG9uZW50LCBbe1xuICAgICAgICBrZXk6IFwiYmVmb3JlUmVuZGVyXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBiZWZvcmVSZW5kZXIoKSB7fVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInJlbmRlclwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiaW5zZXJ0Q29udGVudFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5zZXJ0Q29udGVudChyb290LCBjb250ZW50KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICByb290LmlubmVySFRNTCA9IGNvbnRlbnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImRlZmF1bHQgcmVuZGVyZXIgY2FuIGhhbmRsZSBvbmx5IHN0cmluZ3NcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJhZnRlclJlbmRlclwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWZ0ZXJSZW5kZXIoKSB7fVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInN1YnNjcmliZVRvU3RvcmVcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN1YnNjcmliZVRvU3RvcmUoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5rZXlzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goKDAsIF9zdG9yZS5zdWJzY3JpYmUpKGtleSwgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZW5kZXIucmVuZGVyLmNhbGwoX3RoaXMyKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gKDAsIF9zdG9yZS5nZXRTdGF0ZSkoa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiY29ubmVjdGVkQ2FsbGJhY2tcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVUb1N0b3JlKCk7XG4gICAgICAgICAgICBfcmVuZGVyLnJlbmRlci5jYWxsKHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RlZCgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiY29ubmVjdGVkXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb25uZWN0ZWQoKSB7fVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImRpc2Nvbm5lY3RlZENhbGxiYWNrXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0aGlzLnN1YnNjcmlwdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWQoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImRpc2Nvbm5lY3RlZFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzY29ubmVjdGVkKCkge31cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJhZG9wdGVkQ2FsbGJhY2tcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkb3B0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlVG9TdG9yZSgpO1xuICAgICAgICAgICAgX3JlbmRlci5yZW5kZXIuY2FsbCh0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5hZG9wdGVkKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJhZG9wdGVkXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZG9wdGVkKCkge31cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyaWJ1dGVOYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdW50ZWQgJiYgb2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wc0NoYW5nZWQoX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgYXR0cmlidXRlTmFtZSwgbmV3VmFsdWUpKSk7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUgPT09IFBST1BTX0lEKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvbGRQcm9wcyA9IHByb3BzU3RvcmFnZS5nZXQoTnVtYmVyKG9sZFZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdQcm9wcyA9IHByb3BzU3RvcmFnZS5nZXQoTnVtYmVyKG5ld1ZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZShvbGRQcm9wcywgbmV3UHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1N0b3JhZ2UuZGVsZXRlKG9sZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZW5kZXIucmVuZGVyLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfcmVuZGVyLnJlbmRlci5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInByb3BzQ2hhbmdlZFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcHJvcHNDaGFuZ2VkKG5ld1Byb3BzKSB7fVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcIm5hbWVcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJpc1NoYWRvd1wiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwicHJvcHNcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlcyA9ICgwLCBfdXRpbHMucGFyc2VBdHRyaWJ1dGVzKSh0aGlzLmF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgdmFyIGlkID0gTnVtYmVyKGF0dHJpYnV0ZXMucHJvcHNJZCk7XG4gICAgICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHRoaXMuX19kZWZhdWx0UHJvcHMsIGF0dHJpYnV0ZXMsIHByb3BzU3RvcmFnZS5nZXQoaWQpIHx8IHt9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQocHJvcHMpIHtcbiAgICAgICAgICAgIHRoaXMuX19kZWZhdWx0UHJvcHMgPSBwcm9wcztcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImtleXNcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJzdHlsZXNcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImh0bWxcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RhZy5odG1sO1xuICAgICAgICB9XG4gICAgfV0sIFt7XG4gICAgICAgIGtleTogXCJvYnNlcnZlZEF0dHJpYnV0ZXNcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vYnNlcnZhYmxlUHJvcHMubWFwKF91dGlscy5wcm9wTmFtZVRvVGFnKS5jb25jYXQoUFJPUFNfSUQpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwib2JzZXJ2YWJsZVByb3BzXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENvbXBvbmVudDtcbn0oSFRNTEVsZW1lbnQpKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ29tcG9uZW50O1xuZnVuY3Rpb24gY29ubmVjdChrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKFdyYXBwZWQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfV3JhcHBlZCkge1xuICAgICAgICAgICAgX2luaGVyaXRzKF9jbGFzczIsIF9XcmFwcGVkKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gX2NsYXNzMigpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgX2NsYXNzMik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9jbGFzczIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihfY2xhc3MyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhfY2xhc3MyLCBbe1xuICAgICAgICAgICAgICAgIGtleTogXCJrZXlzXCIsXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBfY2xhc3MyO1xuICAgICAgICB9KFdyYXBwZWQpO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGRlZmluZShuYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChXcmFwcGVkKSB7XG4gICAgICAgICgwLCBfd2ViQ29tcG9uZW50czIuZGVmYXVsdCkobmFtZSwgV3JhcHBlZCk7XG4gICAgICAgIHJldHVybiBXcmFwcGVkO1xuICAgIH07XG59XG5cbnZhciBwcm9wc0lkID0gMDtcblxuZnVuY3Rpb24gcHJvcHMocHJvcHMpIHtcbiAgICB2YXIgaWQgPSBwcm9wc0lkKys7XG4gICAgcHJvcHNTdG9yYWdlLnNldChpZCwgcHJvcHMpO1xuICAgIHJldHVybiBfZGVmaW5lUHJvcGVydHkoe1xuICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gUFJPUFNfSUQgKyBcIj1cXFwiXCIgKyBpZCArIFwiXFxcIlwiO1xuICAgICAgICB9XG4gICAgfSwgUFJPUFNfSUQsIGlkKTtcbn1cblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbiAqL1xuZnVuY3Rpb24gaXMoeCwgeSkge1xuICAgIC8vIFNhbWVWYWx1ZSBhbGdvcml0aG1cbiAgICBpZiAoeCA9PT0geSkge1xuICAgICAgICAvLyBTdGVwcyAxLTUsIDctMTBcbiAgICAgICAgLy8gU3RlcHMgNi5iLTYuZTogKzAgIT0gLTBcbiAgICAgICAgLy8gQWRkZWQgdGhlIG5vbnplcm8geSBjaGVjayB0byBtYWtlIEZsb3cgaGFwcHksIGJ1dCBpdCBpcyByZWR1bmRhbnRcbiAgICAgICAgcmV0dXJuIHggIT09IDAgfHwgeSAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU3RlcCA2LmE6IE5hTiA9PSBOYU5cbiAgICAgICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgICB9XG59XG5cbi8qKlxuICogUGVyZm9ybXMgZXF1YWxpdHkgYnkgaXRlcmF0aW5nIHRocm91Z2gga2V5cyBvbiBhbiBvYmplY3QgYW5kIHJldHVybmluZyBmYWxzZVxuICogd2hlbiBhbnkga2V5IGhhcyB2YWx1ZXMgd2hpY2ggYXJlIG5vdCBzdHJpY3RseSBlcXVhbCBiZXR3ZWVuIHRoZSBhcmd1bWVudHMuXG4gKiBSZXR1cm5zIHRydWUgd2hlbiB0aGUgdmFsdWVzIG9mIGFsbCBrZXlzIGFyZSBzdHJpY3RseSBlcXVhbC5cbiAqL1xuZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIpIHtcbiAgICBpZiAoaXMob2JqQSwgb2JqQikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCh0eXBlb2Ygb2JqQSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yob2JqQSkpICE9PSAnb2JqZWN0JyB8fCBvYmpBID09PSBudWxsIHx8ICh0eXBlb2Ygb2JqQiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yob2JqQikpICE9PSAnb2JqZWN0JyB8fCBvYmpCID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKTtcbiAgICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcblxuICAgIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gVGVzdCBmb3IgQSdzIGtleXMgZGlmZmVyZW50IGZyb20gQi5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXNBLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChvYmpCLCBrZXlzQVtpXSkgfHwgIWlzKG9iakFba2V5c0FbaV1dLCBvYmpCW2tleXNBW2ldXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBzaGFsbG93RXF1YWw7XG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbWFpbi5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDQpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGYxZjRkNzVjM2YzYzU0YzFhZTE0IiwiLy8gQGZsb3dcblxuaW1wb3J0IHR5cGUge1N0b3JhZ2VEcml2ZXJ9IGZyb20gXCIuL2ludGVyZmFjZXNcIjtcblxuY29uc3QgcHJvcHNNYXA6IE1hcDxhbnksIGFueT4gPSBuZXcgTWFwO1xuXG5jb25zdCBldmVudHNNYXA6IE1hcDxhbnksIGFueT4gPSBuZXcgTWFwO1xuXG5leHBvcnQgY29uc3Qgc3RvcmFnZUtleXMgPSB7XG4gICAgUFJPUFM6IFwicHJvcHNcIixcbiAgICBFVkVOVFM6IFwiZXZlbnRzXCJcbn07XG5cbmNvbnN0IGRyaXZlcjogU3RvcmFnZURyaXZlciA9IHtcbiAgICBpdGVtczogT2JqZWN0LmNyZWF0ZSh7XG4gICAgICAgIFtzdG9yYWdlS2V5cy5QUk9QU106IHByb3BzTWFwLFxuICAgICAgICBbc3RvcmFnZUtleXMuRVZFTlRTXTogZXZlbnRzTWFwLFxuICAgIH0pLFxuICAgIHNldEl0ZW0oa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICAgICAgdGhpcy5pdGVtc1trZXldID0gdmFsdWVcbiAgICB9LFxuICAgIGdldEl0ZW0oa2V5OiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXNba2V5XVxuICAgIH0sXG4gICAgcmVtb3ZlSXRlbShrZXk6IHN0cmluZykge1xuICAgICAgICBkZWxldGUgdGhpcy5pdGVtc1trZXldXG4gICAgfSxcbiAgICBtaWdyYXRlKGRyaXZlcjogU3RvcmFnZURyaXZlcikge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLml0ZW1zKSB7XG4gICAgICAgICAgICBkcml2ZXIuc2V0SXRlbShcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtc1trZXldXG4gICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRyaXZlclxuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBzdG9yYWdlID0ge1xuICAgIGRyaXZlclxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldFN0b3JhZ2VEcml2ZXIoZHJpdmVyOiBTdG9yYWdlRHJpdmVyKTogdm9pZCB7XG4gICAgc3RvcmFnZS5kcml2ZXIgPSBzdG9yYWdlLmRyaXZlci5taWdyYXRlKGRyaXZlcilcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0b3JhZ2Uoa2V5OiBzdHJpbmcpOiBhbnkge1xuICAgIHJldHVybiBzdG9yYWdlLmRyaXZlci5nZXRJdGVtKGtleSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFN0b3JhZ2Uoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiB2b2lkIHtcbiAgICBzdG9yYWdlLmRyaXZlci5zZXRJdGVtKGtleSwgdmFsdWUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVTdG9yYWdlKGtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgc3RvcmFnZS5kcml2ZXIucmVtb3ZlSXRlbShrZXkpXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N0b3JhZ2UuanMiLCIvLyBAZmxvd1xuXG5pbXBvcnQgdHlwZSB7V2ViQ29tcG9uZW50cyBhcyBJbXBsZW1lbnRhdGlvbn0gZnJvbSBcIi4vaW50ZXJmYWNlc1wiXG5cbmNvbnN0IGRlZmF1bHRJbXBsZW1lbnRhdGlvbjogSW1wbGVtZW50YXRpb24gPSB7XG4gICAgcmVnaXN0ZXJDb21wb25lbnQobmFtZTogc3RyaW5nLCBjb21wb25lbnQ6IENsYXNzPEVsZW1lbnQ+KSB7XG4gICAgICAgIGlmICgnY3VzdG9tRWxlbWVudHMnIGluIHdpbmRvdykge1xuICAgICAgICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKG5hbWUsIGNvbXBvbmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50UmVhZHlDaGVjaygpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyQ29tcG9uZW50KG5hbWUsIGNvbXBvbmVudClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGlzQ3VzdG9tQ29tcG9uZW50KG5vZGU6IE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUubm9kZU5hbWUuaW5jbHVkZXMoXCItXCIpXG4gICAgfVxufTtcblxubGV0IGN1cnJlbnRJbXBsZW1lbnRhdGlvbiA9IGRlZmF1bHRJbXBsZW1lbnRhdGlvbjtcblxuY29uc3QgcmVnaXN0ZXJDb21wb25lbnQgPSAobmFtZTogc3RyaW5nLCBjb21wb25lbnQ6IENsYXNzPEVsZW1lbnQ+KSA9PiB7XG4gICAgcmV0dXJuIGN1cnJlbnRJbXBsZW1lbnRhdGlvbi5yZWdpc3RlckNvbXBvbmVudChuYW1lLCBjb21wb25lbnQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldEltcGxlbWVudGF0aW9uID0gKGltcGxlbWVudGF0aW9uOiBJbXBsZW1lbnRhdGlvbikgPT4ge1xuICAgIGN1cnJlbnRJbXBsZW1lbnRhdGlvbiA9IGltcGxlbWVudGF0aW9uO1xufTtcblxubGV0IGN1cnJlbnRSZWFkeUNoZWNrID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbmV4cG9ydCBjb25zdCBjb21wb25lbnRzUmVhZHkgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGN1cnJlbnRSZWFkeUNoZWNrKClcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRSZWFkeUNoZWNrID0gKHJlYWR5Q2hlY2s6IEZ1bmN0aW9uKSA9PiB7XG4gICAgY3VycmVudFJlYWR5Q2hlY2sgPSByZWFkeUNoZWNrO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcmVnaXN0ZXJDb21wb25lbnQ7XG5cbmV4cG9ydCBjb25zdCBpc0N1c3RvbUNvbXBvbmVudCA9IChub2RlOiBOb2RlKSA9PiB7XG4gICAgcmV0dXJuIGN1cnJlbnRJbXBsZW1lbnRhdGlvbi5pc0N1c3RvbUNvbXBvbmVudChub2RlKVxufTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvd2ViLWNvbXBvbmVudHMuanMiLCIvLyBAZmxvd1xuXG5pbXBvcnQgdHlwZSB7U3RvcmUsIFJlZHVjZXJ9IGZyb20gXCIuL2ludGVyZmFjZXNcIlxuXG5jb25zdCBzdHViSW1wbGVtZW50YXRpb246IFN0b3JlID0ge1xuICAgIHJlZHVjZXJzOiB7fSxcbiAgICBzdWJzY3JpcHRpb25zOiB7fSxcbiAgICBhZGRSZWR1Y2VyKGtleTogc3RyaW5nLCByZWR1Y2VyOiBSZWR1Y2VyKSB7XG4gICAgICAgIHRoaXMucmVkdWNlcnNba2V5XSA9IHJlZHVjZXI7XG4gICAgfSxcbiAgICByZW1vdmVSZWR1Y2VyKGtleTogc3RyaW5nKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnJlZHVjZXJzW2tleV07XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIHN1YnNjcmliZShrZXk6IHN0cmluZywgY2I6IEZ1bmN0aW9uKSB7XG4gICAgICAgIGlmICghdGhpcy5zdWJzY3JpcHRpb25zW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uc1trZXldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zW2tleV0ucHVzaChjYik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uc1trZXldID0gdGhpcy5zdWJzY3JpcHRpb25zW2tleV0uZmlsdGVyKGVsID0+IGVsICE9PSBjYilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0U3RhdGUoa2V5OiBzdHJpbmcpIHt9LFxuICAgIG1pZ3JhdGUobmV3U3RvcmU6IFN0b3JlKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMucmVkdWNlcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZHVjZXIgPSB0aGlzLnJlZHVjZXJzW2tleV07XG4gICAgICAgICAgICBuZXdTdG9yZS5hZGRSZWR1Y2VyKGtleSwgcmVkdWNlcik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5zdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN1YnNjcmlwdGlvbiBvZiB0aGlzLnN1YnNjcmlwdGlvbnNba2V5XSkge1xuICAgICAgICAgICAgICAgIG5ld1N0b3JlLnN1YnNjcmliZShrZXksIHN1YnNjcmlwdGlvbilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3U3RvcmU7XG4gICAgfVxufTtcblxuY29uc3Qgc3RvcmUgPSB7XG4gICAgY3VycmVudEltcGxlbWVudGF0aW9uOiBzdHViSW1wbGVtZW50YXRpb25cbn07XG5cbmV4cG9ydCBjb25zdCBzZXRJbXBsZW1lbnRhdGlvbiA9IChpbXBsZW1lbnRhdGlvbjogU3RvcmUpID0+IHtcbiAgICBzdG9yZS5jdXJyZW50SW1wbGVtZW50YXRpb24gPSBzdG9yZS5jdXJyZW50SW1wbGVtZW50YXRpb24ubWlncmF0ZShpbXBsZW1lbnRhdGlvbilcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlclJlZHVjZXIgPSAoa2V5OiBzdHJpbmcsIHJlZHVjZXI6IFJlZHVjZXIpID0+IHtcbiAgICBzdG9yZS5jdXJyZW50SW1wbGVtZW50YXRpb24uYWRkUmVkdWNlcihrZXksIHJlZHVjZXIpXG59O1xuZXhwb3J0IGNvbnN0IHJlbW92ZVJlZHVjZXIgPSAoa2V5OiBzdHJpbmcpID0+IHtcbiAgICBzdG9yZS5jdXJyZW50SW1wbGVtZW50YXRpb24ucmVtb3ZlUmVkdWNlcihrZXkpXG59O1xuZXhwb3J0IGNvbnN0IHN1YnNjcmliZSA9IChrZXk6IHN0cmluZywgY2I6IEZ1bmN0aW9uKSA9PiB7XG4gICAgcmV0dXJuIHN0b3JlLmN1cnJlbnRJbXBsZW1lbnRhdGlvbi5zdWJzY3JpYmUoa2V5LCBjYilcbn07XG5leHBvcnQgY29uc3QgZ2V0U3RhdGUgPSAoa2V5OiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gc3RvcmUuY3VycmVudEltcGxlbWVudGF0aW9uLmdldFN0YXRlKGtleSlcbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N0b3JlLmpzIiwiLy8gQGZsb3dcblxuZXhwb3J0IGZ1bmN0aW9uIHRhZ05hbWVUb1Byb3Aobm9kZU5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIG5vZGVOYW1lLnNwbGl0KFwiLVwiKS5yZWR1Y2UoXG4gICAgICAgIChhY2MsIG5leHQpID0+IHtcbiAgICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYyArIG5leHRbMF0udG9VcHBlckNhc2UoKSArIG5leHQuc2xpY2UoMSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2NcbiAgICAgICAgfVxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9wTmFtZVRvVGFnKHByb3A6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgbGV0IHJlcyA9IFwiXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChwcm9wW2ldID09PSBwcm9wW2ldLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIHJlcyArPSBcIi1cIitwcm9wW2ldLnRvTG93ZXJDYXNlKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcyArPSBwcm9wW2ldXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBdHRyaWJ1dGVzKGF0dHJpYnV0ZXM6IE5hbWVkTm9kZU1hcCk6IE9iamVjdCB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgYXR0cmlidXRlcykge1xuICAgICAgICByZXN1bHRbdGFnTmFtZVRvUHJvcChhdHRyaWJ1dGUubmFtZSldID0gYXR0cmlidXRlLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3VycnkoZm46IEZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuICguLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPj0gZm4ubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJncylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycnkoXG4gICAgICAgICAgICBmbi5iaW5kKG51bGwsIC4uLmFyZ3MpXG4gICAgICAgIClcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wb3NlKC4uLmZuczogRnVuY3Rpb25bXSkge1xuICAgIGZucyA9IGZucy5yZXZlcnNlKCk7XG4gICAgcmV0dXJuICguLi5hcmdzOiBhbnlbXSkgPT4gZm5zLnJlZHVjZSgocmVzOiBhbnksIGZuKSA9PiBBcnJheS5pc0FycmF5KHJlcykgPyBmbi5hcHBseShudWxsLCByZXMpIDogZm4ocmVzKSwgYXJncylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vdCh2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuICFCb29sZWFuKHZhbHVlKVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy91dGlscy5qcyIsIi8vIEBmbG93XG5cbmV4cG9ydCB7XG4gICAgc2V0SW1wbGVtZW50YXRpb24gYXMgY2hhbmdlV2ViQ29tcG9uZW50c0ltcGxlbWVuYXRpb24sXG4gICAgY29tcG9uZW50c1JlYWR5LFxuICAgIHNldFJlYWR5Q2hlY2sgYXMgY2hhbmdlV2ViQ29tcG9uZW50c1JlYWR5Q2hlY2ssXG4gICAgZGVmYXVsdCBhcyByZWdpc3RlckNvbXBvbmVudFxufSBmcm9tIFwiLi93ZWItY29tcG9uZW50c1wiXG5cbmV4cG9ydCB7XG4gICAgc2V0SW1wbGVtZW50YXRpb24gYXMgY2hhbmdlU3RvcmVJbXBsZW1lbnRhdGlvbixcbiAgICByZWdpc3RlclJlZHVjZXIsXG4gICAgcmVtb3ZlUmVkdWNlcixcbiAgICBzdWJzY3JpYmUsXG4gICAgZ2V0U3RhdGVcbn0gZnJvbSBcIi4vc3RvcmVcIlxuXG5leHBvcnQge1xuICAgIGNzc1xufSBmcm9tIFwiLi90YWdcIlxuXG5leHBvcnQge1xuICAgIGdldFN0b3JhZ2UsXG4gICAgYWRkU3RvcmFnZSxcbiAgICByZW1vdmVTdG9yYWdlLFxuICAgIHNldFN0b3JhZ2VEcml2ZXJcbn0gZnJvbSBcIi4vc3RvcmFnZVwiXG5cbmV4cG9ydCB7YmluZH0gZnJvbSBcIi4vYmluZFwiXG5cbmV4cG9ydCB7XG4gICAgbWF0Y2hUYWdBcmcsXG4gICAgcmVwbGFjZVRhZ0FyZ1xufSBmcm9tIFwiLi91dGlsc1wiXG5cbmV4cG9ydCB7XG4gICAgZGVmYXVsdCBhcyBDb21wb25lbnQsXG4gICAgY29ubmVjdCxcbiAgICBkZWZpbmUsXG4gICAgcHJvcHMsXG59IGZyb20gXCIuL2NvbXBvbmVudFwiXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5kZXguanMiLCIvLyBAZmxvd1xuXG5leHBvcnQgZnVuY3Rpb24gaHRtbChzdHJpbmdzOiBzdHJpbmdbXSwgLi4uYXJnczogYW55W10pIHtcbiAgICBpZiAoIWFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmdzWzBdXG4gICAgfVxuXG4gICAgbGV0IHRwbDogc3RyaW5nID0gXCJcIjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdHBsICs9IHN0cmluZ3NbaV07XG4gICAgICAgIGlmIChpIDwgc3RyaW5ncy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmdzW2ldKSkge1xuICAgICAgICAgICAgICAgIHRwbCArPSBhcmdzW2ldLmpvaW4oXCJcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRwbCArPSBhcmdzW2ldXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRwbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3NzKHN0cmluZ3M6IHN0cmluZ1tdLCAuLi5hcmdzOiBhbnlbXSkge1xuICAgIGxldCByZXN1bHQgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0ICs9IHN0cmluZ3NbaV07XG4gICAgICAgIGlmIChpIDwgc3RyaW5ncy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3NbaV0gPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gYXJnc1tpXSgpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBhcmdzW2ldXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy90YWcuanMiLCIvLyBAZmxvd1xuXG5pbXBvcnQge2FkZFN0b3JhZ2UsIGdldFN0b3JhZ2V9IGZyb20gXCIuL3N0b3JhZ2VcIlxuXG5jb25zdCBLRVkgPSBcIkJPVU5EU1wiO1xuY29uc3QgTUFYX1NUT1JBR0VfU0laRSA9IDEwMDtcblxuYWRkU3RvcmFnZShcbiAgICBLRVksXG4gICAgbmV3IE1hcCgpXG4pO1xuXG5mdW5jdGlvbiBhcHBlbmRUb1N0b3JhZ2UoZm46IEZ1bmN0aW9uLCB2YWx1ZTogTWFwPGFueSwgRnVuY3Rpb24+KTogdm9pZCB7XG4gICAgY29uc3Qgc3RvcmFnZTogTWFwPEZ1bmN0aW9uLCBNYXA8YW55LCBGdW5jdGlvbj4+ID0gZ2V0U3RvcmFnZShLRVkpO1xuICAgIGlmIChzdG9yYWdlLnNpemUgPT09IE1BWF9TVE9SQUdFX1NJWkUpIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IHN0b3JhZ2Uua2V5cygpO1xuICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgIHN0b3JhZ2UuZGVsZXRlKGtleXMubmV4dCgpLnZhbHVlKTtcbiAgICB9XG4gICAgc3RvcmFnZS5zZXQoZm4sIHZhbHVlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYmluZChmbjogRnVuY3Rpb24sIC4uLmFyZ3M6IGFueVtdKTogRnVuY3Rpb24ge1xuICAgIGNvbnN0IHN0b3JhZ2U6IE1hcDxGdW5jdGlvbiwgTWFwPGFueSwgRnVuY3Rpb24+PiA9IGdldFN0b3JhZ2UoS0VZKTtcbiAgICBjb25zdCBib3VuZCA9IHN0b3JhZ2UuZ2V0KGZuKTtcbiAgICBjb25zdCBmaXJzdEFyZyA9IGFyZ3NbMF07XG4gICAgY29uc3QgYm91bmRGbiA9IGZuLmJpbmQobnVsbCwgLi4uYXJncyk7XG4gICAgaWYgKGJvdW5kKSB7XG4gICAgICAgIGlmICghYm91bmQuZ2V0KGZpcnN0QXJnKSkge1xuICAgICAgICAgICAgYm91bmQuc2V0KFxuICAgICAgICAgICAgICAgIGZpcnN0QXJnLFxuICAgICAgICAgICAgICAgIGJvdW5kRm5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gYm91bmRGblxuICAgICAgICB9XG4gICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgcmV0dXJuIGJvdW5kLmdldChmaXJzdEFyZylcbiAgICB9XG5cbiAgICBjb25zdCBmbk1hcCA9IG5ldyBNYXAoKTtcbiAgICBmbk1hcC5zZXQoXG4gICAgICAgIGZpcnN0QXJnLFxuICAgICAgICBib3VuZEZuXG4gICAgKTtcbiAgICBhcHBlbmRUb1N0b3JhZ2UoXG4gICAgICAgIGZuLFxuICAgICAgICBmbk1hcFxuICAgICk7XG4gICAgcmV0dXJuIGJvdW5kRm5cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmluZC5qcyIsIi8vIEBmbG93XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdGhpcy5iZWZvcmVSZW5kZXIoKTtcblxuICAgIGlmICh0aGlzLmlzU2hhZG93ICYmICF0aGlzLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgdGhpcy5hdHRhY2hTaGFkb3coe21vZGU6ICdvcGVuJ30pO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5yb290KSB7XG4gICAgICAgIHRoaXMucm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMucm9vdC5zdHlsZS5kaXNwbGF5ID0gJ2NvbnRlbnRzJztcbiAgICAgICAgaWYgKHRoaXMuaXNTaGFkb3cpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93Um9vdC5pbm5lckhUTUwgPSBgPHN0eWxlPiR7dGhpcy5zdHlsZXN9PC9zdHlsZT5gO1xuICAgICAgICAgICAgdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKHRoaXMucm9vdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0eWxlcyAmJiAodGhpcy5pbm5lckhUTUwgPSBgPHN0eWxlPiR7dGhpcy5zdHlsZXN9PC9zdHlsZT5gKTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQodGhpcy5yb290KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcmVuZGVyUmVzID0gdGhpcy5yZW5kZXIoKTtcbiAgICBpZiAocmVuZGVyUmVzKSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0Q29udGVudCh0aGlzLnJvb3QsIHJlbmRlclJlcylcbiAgICB9XG5cbiAgICB0aGlzLm1vdW50ZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5hZnRlclJlbmRlcigpO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yZW5kZXIuanMiLCIvLyBAZmxvd1xuXG5pbXBvcnQgcmVnaXN0ZXJDb21wb25lbnQgZnJvbSBcIi4vd2ViLWNvbXBvbmVudHNcIlxuaW1wb3J0IHtzdWJzY3JpYmUsIGdldFN0YXRlfSBmcm9tIFwiLi9zdG9yZVwiXG5pbXBvcnQge3JlbmRlcn0gZnJvbSBcIi4vcmVuZGVyXCJcbmltcG9ydCB7Z2V0U3RvcmFnZSwgc3RvcmFnZUtleXN9IGZyb20gXCIuL3N0b3JhZ2VcIlxuaW1wb3J0IHtjb21wb3NlLCBub3QsIHBhcnNlQXR0cmlidXRlcywgcHJvcE5hbWVUb1RhZ30gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7aHRtbCwgY3NzfSBmcm9tIFwiLi90YWdcIlxuaW1wb3J0IHNoYWxsb3dFcXVhbCBmcm9tIFwiLi9zaGFsbG93LWVxdWFsc1wiO1xuXG5jb25zdCBwcm9wc1N0b3JhZ2UgPSBnZXRTdG9yYWdlKHN0b3JhZ2VLZXlzLlBST1BTKTtcblxuY29uc3QgUFJPUFNfSUQgPSBcInByb3BzLWlkXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBvbmVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvci5uYW1lXG4gICAgfVxuXG4gICAgZ2V0IGlzU2hhZG93KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGdldCBwcm9wcygpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlczogT2JqZWN0ID0gcGFyc2VBdHRyaWJ1dGVzKHRoaXMuYXR0cmlidXRlcyk7XG4gICAgICAgIGNvbnN0IGlkID0gTnVtYmVyKGF0dHJpYnV0ZXMucHJvcHNJZCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi50aGlzLl9fZGVmYXVsdFByb3BzLFxuICAgICAgICAgICAgLi4uYXR0cmlidXRlcyxcbiAgICAgICAgICAgIC4uLihwcm9wc1N0b3JhZ2UuZ2V0KGlkKSB8fCB7fSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldCBwcm9wcyhwcm9wczogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuX19kZWZhdWx0UHJvcHMgPSBwcm9wcztcbiAgICB9XG5cbiAgICBnZXQga2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFtdXG4gICAgfVxuXG4gICAgZ2V0IHN0eWxlcygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJcIlxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2JzZXJ2YWJsZVByb3BzLm1hcChwcm9wTmFtZVRvVGFnKS5jb25jYXQoUFJPUFNfSUQpXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBvYnNlcnZhYmxlUHJvcHMoKSB7XG4gICAgICAgIHJldHVybiBbXVxuICAgIH1cblxuICAgIF9fZGVmYXVsdFByb3BzID0ge307XG5cbiAgICBzdWJzY3JpcHRpb25zID0gW107XG5cbiAgICBzdGF0ZSA9IHt9O1xuXG4gICAgbW91bnRlZCA9IGZhbHNlO1xuXG4gICAgZ2V0IGh0bWwoKSB7XG4gICAgICAgIHJldHVybiBodG1sXG4gICAgfVxuXG4gICAgY3NzID0gY3NzO1xuXG4gICAgcm9vdDogSFRNTEVsZW1lbnQ7XG5cbiAgICBiZWZvcmVSZW5kZXIoKSB7fVxuXG4gICAgcmVuZGVyKCk6IHN0cmluZyB8IHZvaWQge1xuICAgICAgICByZXR1cm4gJydcbiAgICB9XG5cbiAgICBpbnNlcnRDb250ZW50KHJvb3Q6IEhUTUxFbGVtZW50LCBjb250ZW50OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByb290LmlubmVySFRNTCA9IGNvbnRlbnRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImRlZmF1bHQgcmVuZGVyZXIgY2FuIGhhbmRsZSBvbmx5IHN0cmluZ3NcIilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFmdGVyUmVuZGVyKCkge31cblxuICAgIHN1YnNjcmliZVRvU3RvcmUoKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHRoaXMua2V5cykge1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlKGtleSwgc3RhdGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlci5jYWxsKHRoaXMpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gZ2V0U3RhdGUoa2V5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZVRvU3RvcmUoKTtcbiAgICAgICAgcmVuZGVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgdGhpcy5jb25uZWN0ZWQoKVxuICAgIH1cblxuICAgIGNvbm5lY3RlZCgpIHt9XG5cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgZm9yIChjb25zdCBzdWJzY3JpcHRpb24gb2YgdGhpcy5zdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWQoKVxuICAgIH1cblxuICAgIGRpc2Nvbm5lY3RlZCgpIHt9XG5cbiAgICBhZG9wdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlVG9TdG9yZSgpO1xuICAgICAgICByZW5kZXIuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLmFkb3B0ZWQoKVxuICAgIH1cblxuICAgIGFkb3B0ZWQoKSB7fVxuXG4gICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGF0dHJpYnV0ZU5hbWU6IHN0cmluZywgb2xkVmFsdWU6IHN0cmluZywgbmV3VmFsdWU6IHN0cmluZykge1xuICAgICAgICBpZiAodGhpcy5tb3VudGVkICYmIG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wc0NoYW5nZWQoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgICAgICBbYXR0cmlidXRlTmFtZV06IG5ld1ZhbHVlLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlTmFtZSA9PT0gUFJPUFNfSUQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRQcm9wcyA9IHByb3BzU3RvcmFnZS5nZXQoTnVtYmVyKG9sZFZhbHVlKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UHJvcHMgPSBwcm9wc1N0b3JhZ2UuZ2V0KE51bWJlcihuZXdWYWx1ZSkpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZShvbGRQcm9wcywgbmV3UHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzU3RvcmFnZS5kZWxldGUob2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZW5kZXIuY2FsbCh0aGlzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyLmNhbGwodGhpcylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3BzQ2hhbmdlZChuZXdQcm9wczogT2JqZWN0KSB7fVxuXG4gICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gY29tcG9zZShcbiAgICAgICAgbm90LFxuICAgICAgICBzaGFsbG93RXF1YWwsXG4gICAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbm5lY3Qoa2V5OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gKFdyYXBwZWQ6IENsYXNzPENvbXBvbmVudD4pID0+IHtcbiAgICAgICAgcmV0dXJuIGNsYXNzIGV4dGVuZHMgV3JhcHBlZCB7XG4gICAgICAgICAgICBnZXQga2V5cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2tleV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZShuYW1lOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gKFdyYXBwZWQ6IENsYXNzPENvbXBvbmVudD4pID0+IHtcbiAgICAgICAgcmVnaXN0ZXJDb21wb25lbnQobmFtZSwgV3JhcHBlZCk7XG4gICAgICAgIHJldHVybiBXcmFwcGVkXG4gICAgfVxufVxuXG5sZXQgcHJvcHNJZCA9IDA7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9wcyhwcm9wczogT2JqZWN0KSB7XG4gICAgY29uc3QgaWQgPSBwcm9wc0lkKys7XG4gICAgcHJvcHNTdG9yYWdlLnNldChcbiAgICAgICAgaWQsXG4gICAgICAgIHByb3BzXG4gICAgKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0b1N0cmluZygpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtQUk9QU19JRH09XCIke2lkfVwiYFxuICAgICAgICB9LFxuICAgICAgICBbUFJPUFNfSURdOiBpZCxcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudC5qcyIsIi8vIEBmbG93XG5cbmNvbnN0IGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbiAqL1xuZnVuY3Rpb24gaXMoeCwgeSkge1xuICAgIC8vIFNhbWVWYWx1ZSBhbGdvcml0aG1cbiAgICBpZiAoeCA9PT0geSkge1xuICAgICAgICAvLyBTdGVwcyAxLTUsIDctMTBcbiAgICAgICAgLy8gU3RlcHMgNi5iLTYuZTogKzAgIT0gLTBcbiAgICAgICAgLy8gQWRkZWQgdGhlIG5vbnplcm8geSBjaGVjayB0byBtYWtlIEZsb3cgaGFwcHksIGJ1dCBpdCBpcyByZWR1bmRhbnRcbiAgICAgICAgcmV0dXJuIHggIT09IDAgfHwgeSAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU3RlcCA2LmE6IE5hTiA9PSBOYU5cbiAgICAgICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgICB9XG59XG5cbi8qKlxuICogUGVyZm9ybXMgZXF1YWxpdHkgYnkgaXRlcmF0aW5nIHRocm91Z2gga2V5cyBvbiBhbiBvYmplY3QgYW5kIHJldHVybmluZyBmYWxzZVxuICogd2hlbiBhbnkga2V5IGhhcyB2YWx1ZXMgd2hpY2ggYXJlIG5vdCBzdHJpY3RseSBlcXVhbCBiZXR3ZWVuIHRoZSBhcmd1bWVudHMuXG4gKiBSZXR1cm5zIHRydWUgd2hlbiB0aGUgdmFsdWVzIG9mIGFsbCBrZXlzIGFyZSBzdHJpY3RseSBlcXVhbC5cbiAqL1xuZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakE6IG1peGVkLCBvYmpCOiBtaXhlZCk6IGJvb2xlYW4ge1xuICAgIGlmIChpcyhvYmpBLCBvYmpCKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAgIHR5cGVvZiBvYmpBICE9PSAnb2JqZWN0JyB8fFxuICAgICAgICBvYmpBID09PSBudWxsIHx8XG4gICAgICAgIHR5cGVvZiBvYmpCICE9PSAnb2JqZWN0JyB8fFxuICAgICAgICBvYmpCID09PSBudWxsXG4gICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpO1xuICAgIGNvbnN0IGtleXNCID0gT2JqZWN0LmtleXMob2JqQik7XG5cbiAgICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFRlc3QgZm9yIEEncyBrZXlzIGRpZmZlcmVudCBmcm9tIEIuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzQS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaGFzT3duUHJvcGVydHkuY2FsbChvYmpCLCBrZXlzQVtpXSkgfHxcbiAgICAgICAgICAgICFpcyhvYmpBW2tleXNBW2ldXSwgb2JqQltrZXlzQVtpXV0pXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNoYWxsb3dFcXVhbDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc2hhbGxvdy1lcXVhbHMuanMiXSwic291cmNlUm9vdCI6IiJ9